<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>User Input - dart</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>Events</a></li><li class="l-left"><a class="main-nav-button" href="/news.html" md-button>News</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>Get Started</a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="search" id="search-io" placeholder="SEARCH DOCS..."/></form><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/dart/latest/" class="nav-title">Docs Home</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>Core Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/quickstart.html" title="Get up and running with Angular 2" class="nav-title ">Quickstart</a></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/" title="How to read and use this documentation" class="nav-title is-parent is-selected">Guide<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/" title="How to read and use this documentation">1. Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/architecture.html" title="The basic building blocks of Angular 2 applications">2. Architecture</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/displaying-data.html" title="Interpolation and other forms of property binding help us show app data in the UI.">3. Displaying Data</a></li><li class="nav-list-item is-selected"><a href="/docs/dart/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">4. User Input</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">5. Forms</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">6. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">7. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/cheatsheet.html" title="A quick guide to Angular syntax. (Content is provisional and may change.)">8. Angular Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/style-guide.html" title="Write Angular 2 with style.">9. Style Guide</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/glossary.html" title="Brief definitions of the most important words in the Angular 2 vocabulary">10. Glossary</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/dart/latest/api/" title="API Preview" class="nav-title ">API Reference</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>Additional Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart." class="nav-title is-parent ">Tutorial<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt1.html" title="We build a simple hero editor">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls">5. Services</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt5.html" title="We add the Angular Component Router and learn to navigate among the views">6. Routing</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements." class="nav-title is-parent ">Advanced Documentation<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements.">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/browser-support.html" title="Browser support and polyfills guide.">Browser support</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components.">Component Styles</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree.">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/server-communication.html" title="Talk to a remote server with an HTTP Client.">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them.">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/pipes.html" title="Pipes transform displayed values within a template.">Pipes</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular 2 Component Router.">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/security.html" title="Developing for content security in Angular applications">Security</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements.">Structural Directives</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios" class="nav-title is-parent ">Cookbook<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios">Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/component-communication.html" title="Share information between different directives and components">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service.">Set the Document Title</a></li></ul></div></li></ul><!-- DROPDOWN BUTTON --><nav class="dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for Dart  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/guide/user-input.html" md-button>Angular 2 for TypeScript </a></li><li><a href="/docs/js/latest/guide/user-input.html" md-button>Angular 2 for JavaScript </a></li><li><a href="/docs/dart/latest/guide/user-input.html" md-button>Angular 2 for Dart </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if(link && link.offsetTop > window.innerHeight){
    sideNav.scrollTop = link.offsetTop - (window.innerHeight/2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><!-- template: public/_includes/_hero--><header class="hero background-sky"><h1 class="hero-title ">User Input</h1><!--CLEAR FLOAT ELEMENTS--><div class="clear"></div></header><div class="banner"><p class="text-body">User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.</p></div><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><p>When the user clicks a link, pushes a button, or enters text
we want to know about it. These user actions all raise DOM events.
In this chapter we learn to bind to those events using the Angular
event binding syntax.</p>
<p>Run the <live-example></live-example>.</p>
<h2 id="binding-to-user-input-events">Binding to user input events</h2>
<p>We can use <a href="./template-syntax.html#event-binding">Angular event bindings</a>
to respond to <a href="https://developer.mozilla.org/en-US/docs/Web/Events">any DOM event</a>.</p>
<p>The syntax is simple. We surround the DOM event name with
parentheses and assign a quoted template statement to it.
As an example, here&#39;s an event binding that implements a click handler:</p>
<div class="code-example"><code-example language="html" format="">&lt;button (click)=&quot;onClickMe()&quot;&gt;Click me!&lt;/button&gt;
</code-example></div><a id="click"></a><p>The <code>(click)</code> to the left of the equal sign identifies the button&#39;s click event as the <strong>target of the binding</strong>.
The text within quotes on the right is the <strong>template statement</strong> in which we
respond to the click event by calling the component&#39;s <code>onClickMe</code> method. A template statement <!-- PENDING: link to ./template-syntax.html#template-statements --> is a subset
of Dart with restrictions and a few added tricks.</p>
<p>When writing a binding we must be aware of a template statement&#39;s <strong>execution context</strong>.
The identifiers appearing within a statement belong to a specific context object.
That object is usually the Angular component that controls the template  ... which it definitely is
in this case because that snippet of HTML belongs to the following component:</p>
<div class="code-example"><header><h4>web/click_me_component.dart</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;click-me&#39;,
    template: &#39;&#39;&#39;
      &lt;button (click)=&quot;onClickMe()&quot;&gt;Click me!&lt;/button&gt;
      {{clickMessage}}&#39;&#39;&#39;)
class ClickMeComponent {
  String clickMessage = &#39;&#39;;

  void onClickMe() {
    clickMessage = &#39;You are my hero!&#39;;
  }
}
</code-example></div><p>When the user clicks the button, Angular calls the component&#39;s <code>onClickMe</code> method.</p>
<div class="l-main-section"></div><h2 id="get-user-input-from-the-event-object">Get user input from the $event object</h2>
<p>We can bind to all kinds of events. Let&#39;s bind to the keyup event of an input box and replay
what the user types back onto the screen.</p>
<p>This time we&#39;ll (1) listen to an event and (2) grab the user&#39;s input.</p>
<div class="code-example"><header><h4>web/keyup_components.dart (template v.1)</h4></header><code-example language="dart" format="">template: &#39;&#39;&#39;
  &lt;input (keyup)=&quot;onKey(\$event)&quot;&gt;
  &lt;p&gt;{{values}}&lt;/p&gt;
&#39;&#39;&#39;
</code-example></div><p>Angular makes an event object available in the <strong><code>$event</code></strong> variable,
which we pass to the component&#39;s <code>onKey()</code> method.
The user data we want is in that variable somewhere.</p>
<important></important><div class="callout is-important"><header>$event vs. \$event</header><p>Templates in Dart files need a <code>\</code> in front of the <code>$</code>.
If the template is in an HTML file, use <code>$event</code> instead of <code>\$event</code>.</p>
</div><div class="code-example"><header><h4>web/keyup_components.dart (class v.1)</h4></header><code-example language="dart" format="">class KeyUpComponentV1 {
  String values = &#39;&#39;;

  onKey(dynamic event) {
    values += event.target.value + &#39; | &#39;;
  }
}
</code-example></div><p>The shape of the <code>$event</code> object is determined by whatever raises the event.
The <code>keyup</code> event comes from the DOM, so <code>$event</code> must be a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">standard DOM event object</a>.
The <code>$event.target</code> gives us an
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement"><code>HTMLInputElement</code></a>, which
has a <code>value</code> property that contains our user input data.</p>
<p>The <code>onKey()</code> component method is where we extract the user&#39;s input
from the event object, adding that input to the list of user data that we&#39;re accumulating in the component&#39;s <code>values</code> property.
We then use interpolation <!-- PENDING: link to ./template-syntax.html#interpolation) -->
to display the accumulating <code>values</code> property back on screen.</p>
<p>Enter the letters &quot;abc&quot;, and then backspace to remove them.
Here&#39;s what the UI displays:</p>
<code-example>a | ab | abc | ab | a | |</code-example><figure class="image-display"><img src="/resources/images/devguide/user-input/keyup1-anim.gif" alt="key up 1"></figure><a id="keyup1"></a><div class="l-sub-section"><p>We cast the <code>$event</code> as an <code>any</code> type, which means we&#39;ve abandoned strong typing
to simplify our code. We generally prefer the strong typing that Dart affords.
We can rewrite the method, casting to HTML DOM objects like this.</p>
<div class="code-example"><header><h4>web/keyup_components.dart (class v.1 - strongly typed )</h4></header><code-example language="dart" format="">class KeyUpComponentV1 {
  String values = &#39;&#39;;

  onKey(KeyboardEvent event) {
    InputElement el = event.target;
    values += &#39;${el.value}  | &#39;;
  }
}
</code-example></div><p><br>Strong typing reveals a serious problem with passing a DOM event into the method:
too much awareness of template details, too little separation of concerns.</p>
<p>We&#39;ll address this problem in our next try at processing user keystrokes.</p>
</div><div class="l-main-section"></div><h2 id="get-user-input-from-a-template-reference-variable">Get user input from a template reference variable</h2>
<p>There&#39;s another way to get the user data without the <code>$event</code> variable.</p>
<p>Angular has a syntax feature called <a href="./template-syntax.html#ref-vars"><strong>template reference variables</strong></a>.
These variables grant us direct access to an element.
We declare a template reference variable by preceding an identifier with a hash/pound character (#).</p>
<p>Here&#39;s an example of using a template reference variable
to implement a clever keystroke loopback in an ultra-simple template.</p>
<div class="code-example"><header><h4>web/loop_back_component.dart</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;loop-back&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup)=&quot;0&quot;&gt;
      &lt;p&gt;{{box.value}}&lt;/p&gt;
    &#39;&#39;&#39;)
class LoopBackComponent {}
</code-example></div><p>We&#39;ve declared a template reference variable named <code>box</code> on the <code>&lt;input&gt;</code> element.
The <code>box</code> variable is a reference to the <code>&lt;input&gt;</code> element itself, which means we can
grab the input element&#39;s <code>value</code> and display it
with interpolation between <code>&lt;p&gt;</code> tags.</p>
<p>The template is completely self contained. It doesn&#39;t bind to the component,
and the component does nothing.</p>
<p>Type in the input box, and watch the display update with each keystroke. <em>Voila!</em></p>
<figure class="image-display"><img src="/resources/images/devguide/user-input/keyup-loop-back-anim.gif" alt="loop back"></figure><div class="l-sub-section"><p><strong>This won&#39;t work at all unless we bind to an event</strong>.</p>
<p>Angular only updates the bindings (and therefore the screen)
if we do something in response to asynchronous events such as keystrokes.</p>
<p>That&#39;s why we bind the <code>keyup</code> event to a statement that does ... well, nothing.
We&#39;re binding to the number 0, the shortest statement we can think of.
That is all it takes to keep Angular happy. We said it would be clever!</p>
</div><p>That template reference variable is intriguing. It&#39;s clearly easier to get to the textbox with that
variable than to go through the <code>$event</code> object. Maybe we can rewrite our previous
keyup example so that it uses the variable to get the user&#39;s input. Let&#39;s give it a try.</p>
<div class="code-example"><header><h4>web/keyup_components.dart (v2)</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;key-up2&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup)=&quot;onKey(box.value)&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV2 {
  String values = &#39;&#39;;
  onKey(value) {
    values += &#39;$value | &#39;;
  }
}
</code-example></div><p>That sure seems easier.
An especially nice aspect of this approach is that our component code gets clean data values from the view.
It no longer requires knowledge of the <code>$event</code> and its structure.</p>
<a id="key-event"></a><div class="l-main-section"></div><h2 id="key-event-filtering-with-key-enter-">Key event filtering (with <code>key.enter</code>)</h2>
<p>Perhaps we don&#39;t care about every keystroke.
Maybe we&#39;re only interested in the input box value when the user presses Enter, and we&#39;d like to ignore all other keys.
When we bind to the <code>(keyup)</code> event, our event handling statement hears <em>every keystroke</em>.
We could filter the keys first, examining every <code>$event.keyCode</code>, and update the <code>values</code> property only if the key is Enter.</p>
<p>Angular can filter the key events for us. Angular has a special syntax for keyboard events.
We can listen for just the Enter key by binding to Angular&#39;s <code>keyup.enter</code> pseudo-event.</p>
<p>Only then do we update the component&#39;s <code>values</code> property. (In this example,
the update happens inside the event binding statement. A better practice
would be to put the update code in the component.)</p>
<div class="code-example"><header><h4>web/keyup_components.dart (v3)</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;key-up3&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup.enter)=&quot;values=box.value&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV3 {
  String values = &#39;&#39;;
}
</code-example></div><p>Here&#39;s how it works.</p>
<figure class="image-display"><img src="/resources/images/devguide/user-input/keyup3-anim.gif" alt="key up 3"></figure><div class="l-main-section"></div><h2 id="on-blur">On blur</h2>
<p>Our previous example won&#39;t transfer the current state of the input box if the user mouses away and clicks
elsewhere on the page. We update the component&#39;s <code>values</code> property only when the user presses Enter
while the focus is inside the input box.</p>
<p>Let&#39;s fix that by listening to the input box&#39;s blur event as well.</p>
<div class="code-example"><header><h4>web/keyup_components.dart (v4)</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;key-up4&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box
        (keyup.enter)=&quot;values=box.value&quot;
        (blur)=&quot;values=box.value&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV4 {
  String values = &#39;&#39;;
}
</code-example></div><div class="l-main-section"></div><h2 id="put-it-all-together">Put it all together</h2>
<p>We learned how to <a href="./displaying-data.html">display data</a> in the previous chapter.
We&#39;ve acquired a small arsenal of event binding techniques in this chapter.</p>
<p>Let&#39;s put it all together in a micro-app
that can display a list of heroes and add new heroes to that list.
The user can add a hero by first typing in the input box and then
pressing Enter, clicking the Add button, or clicking elsewhere on the page.</p>
<figure class="image-display"><img src="/resources/images/devguide/user-input/little-tour-anim.gif" alt="Little Tour of Heroes"></figure><p>Below is the &quot;Little Tour of Heroes&quot;  component.
We&#39;ll call out the highlights after we bask briefly in its minimalist glory.</p>
<div class="code-example"><header><h4>web/little_tour_component.dart</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;little-tour&#39;,
    template: &#39;&#39;&#39;
      &lt;input #newHero
        (keyup.enter)=&quot;addHero(newHero.value)&quot;
        (blur)=&quot;addHero(newHero.value); newHero.value=&#39;&#39; &quot;&gt;

      &lt;button (click)=addHero(newHero.value)&gt;Add&lt;/button&gt;

      &lt;ul&gt;&lt;li *ngFor=&quot;let hero of heroes&quot;&gt;{{hero}}&lt;/li&gt;&lt;/ul&gt;
    &#39;&#39;&#39;)
class LittleTourComponent {
  List&lt;String&gt; heroes = [&#39;Windstorm&#39;, &#39;Bombasto&#39;, &#39;Magneta&#39;, &#39;Tornado&#39;];

  void addHero(String newHero) {
    if (newHero?.length &gt; 0) {
      heroes.add(newHero);
    }
  }
}
</code-example></div><p>We&#39;ve seen almost everything here before. A few things are new or bear repeating.</p>
<h3 id="use-template-variables-to-refer-to-elements">Use template variables to refer to elements</h3>
<p>The <code>newHero</code> template variable refers to the <code>&lt;input&gt;</code> element.
We can use <code>newHero</code> from any sibling or child of the <code>&lt;input&gt;</code> element.</p>
<p>Getting the element from a template variable makes the button click handler
simpler. Without the variable, we&#39;d have to use a fancy CSS selector
to find the input element.</p>
<h3 id="pass-values-not-elements">Pass values, not elements</h3>
<p>We could have passed the <code>newHero</code> into the component&#39;s <code>addHero</code> method.</p>
<p>But that would require <code>addHero</code> to pick its way through the <code>&lt;input&gt;</code> DOM element,
something we learned to dislike in our first try at a <a href="#keyup1">keyup component</a>.</p>
<p>Instead, we grab the input box <em>value</em> and pass <em>that</em> to <code>addHero</code>.
The component knows nothing about HTML or the DOM, which is the way we like it.</p>
<h3 id="keep-template-statements-simple">Keep template statements simple</h3>
<p>We bound <code>(blur)</code> to <em>two</em> Dart statements.</p>
<p>We like the first one, which calls <code>addHero</code>.
We do not like the second one, which assigns an empty string to the input box value.</p>
<p>The second statement exists for a good reason. We have to clear the input box after adding the new hero to the list.
The component has no way to do that itself because it has no access to the
input box (our design choice).</p>
<p>Although the example <em>works</em>, we are rightly wary of Dart in HTML.
Template statements are powerful. We&#39;re supposed to use them responsibly.
Complex Dart in HTML is irresponsible.</p>
<p>Should we reconsider our reluctance to pass the input box into the component?</p>
<p>There should be a better third way. And there is, as we&#39;ll see when we learn about <code>NgModel</code> in the <a href="forms.html">Forms</a> chapter.</p>
<div class="l-main-section"></div><h2 id="source-code">Source code</h2>
<p>Here is all the code we talked about in this chapter.</p>
<code-tabs><code-pane language="dart" name="click_me_component.dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

@Component(
    selector: &#39;click-me&#39;,
    template: &#39;&#39;&#39;
      &lt;button (click)=&quot;onClickMe()&quot;&gt;Click me!&lt;/button&gt;
      {{clickMessage}}&#39;&#39;&#39;)
class ClickMeComponent {
  String clickMessage = &#39;&#39;;

  void onClickMe() {
    clickMessage = &#39;You are my hero!&#39;;
  }
}
</code-pane><code-pane language="dart" name="keyup_components.dart" format="linenums">import &#39;dart:html&#39;;

import &#39;package:angular2/core.dart&#39;;

@Component(
    selector: &#39;key-up1&#39;,
    template: &#39;&#39;&#39;
      &lt;input (keyup)=&quot;onKey(\$event)&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;
    )
class KeyUpComponentV1 {
  String values = &#39;&#39;;

  /*
  onKey(dynamic event) {
    values += event.target.value + &#39; | &#39;;
  }
  */
  onKey(KeyboardEvent event) {
    InputElement el = event.target;
    values += &#39;${el.value}  | &#39;;
  }
}

//////////////////////////////////////////

@Component(
    selector: &#39;key-up2&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup)=&quot;onKey(box.value)&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV2 {
  String values = &#39;&#39;;
  onKey(value) {
    values += &#39;$value | &#39;;
  }
}

//////////////////////////////////////////

@Component(
    selector: &#39;key-up3&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup.enter)=&quot;values=box.value&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV3 {
  String values = &#39;&#39;;
}

//////////////////////////////////////////

@Component(
    selector: &#39;key-up4&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box
        (keyup.enter)=&quot;values=box.value&quot;
        (blur)=&quot;values=box.value&quot;&gt;
      &lt;p&gt;{{values}}&lt;/p&gt;
    &#39;&#39;&#39;)
class KeyUpComponentV4 {
  String values = &#39;&#39;;
}
</code-pane><code-pane language="dart" name="loop_back_component.dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

@Component(
    selector: &#39;loop-back&#39;,
    template: &#39;&#39;&#39;
      &lt;input #box (keyup)=&quot;0&quot;&gt;
      &lt;p&gt;{{box.value}}&lt;/p&gt;
    &#39;&#39;&#39;)
class LoopBackComponent {}
</code-pane><code-pane language="dart" name="little_tour_component.dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

@Component(
    selector: &#39;little-tour&#39;,
    template: &#39;&#39;&#39;
      &lt;input #newHero
        (keyup.enter)=&quot;addHero(newHero.value)&quot;
        (blur)=&quot;addHero(newHero.value); newHero.value=&#39;&#39; &quot;&gt;

      &lt;button (click)=addHero(newHero.value)&gt;Add&lt;/button&gt;

      &lt;ul&gt;&lt;li *ngFor=&quot;let hero of heroes&quot;&gt;{{hero}}&lt;/li&gt;&lt;/ul&gt;
    &#39;&#39;&#39;)
class LittleTourComponent {
  List&lt;String&gt; heroes = [&#39;Windstorm&#39;, &#39;Bombasto&#39;, &#39;Magneta&#39;, &#39;Tornado&#39;];

  void addHero(String newHero) {
    if (newHero?.length &gt; 0) {
      heroes.add(newHero);
    }
  }
}
</code-pane></code-tabs><div class="l-main-section"></div><h2 id="summary">Summary</h2>
<p>We&#39;ve mastered the basic primitives for responding to user input and gestures.
As powerful as these primitives are, they are a bit clumsy for handling
large amounts of user input. We&#39;re operating down at the low level of events when
we should be writing two-way bindings between data entry fields and model properties.</p>
<p>Angular has a two-way binding called <code>NgModel</code>, which we&#39;ll learn about
in the <code>Forms</code> chapter.</p><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><div class="l-sub-section"><h3>Next Step</h3><a href="/docs/dart/latest/guide/forms.html">Forms</a></div><!--NEXT PAGE HAS NOW BEEN SET--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--></article><div class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular 2 libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/resources/">Books & Training</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">Community</a></li><li><a href="/presskit.html">Press Kit</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><ul class="text-body"><li><a href="https://angular.cn/">中文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2016. Code licensed under an <a href="/license" class="text-snow">MIT-style License</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small><a aria-label="View Style Guide" href="/docs/dart/latest/styleguide.html" title="Style Guide" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script><!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')

</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK');
</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script><!-- Twitter Widget --><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script></body></html>