<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>Forms - dart</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>Events</a></li><li class="l-left"><a class="main-nav-button" href="/news.html" md-button>News</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>Get Started</a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="search" id="search-io" placeholder="SEARCH DOCS..."/></form><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/dart/latest/" class="nav-title">Docs Home</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>Core Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/quickstart.html" title="Get up and running with Angular 2" class="nav-title ">Quickstart</a></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/" title="How to read and use this documentation" class="nav-title is-parent is-selected">Guide<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/" title="How to read and use this documentation">1. Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/architecture.html" title="The basic building blocks of Angular 2 applications">2. Architecture</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/displaying-data.html" title="Interpolation and other forms of property binding help us show app data in the UI.">3. Displaying Data</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">4. User Input</a></li><li class="nav-list-item is-selected"><a href="/docs/dart/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">5. Forms</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">6. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">7. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/cheatsheet.html" title="A quick guide to Angular syntax. (Content is provisional and may change.)">8. Angular Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/style-guide.html" title="Write Angular 2 with style.">9. Style Guide</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/glossary.html" title="Brief definitions of the most important words in the Angular 2 vocabulary">10. Glossary</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/dart/latest/api/" title="API Preview" class="nav-title ">API Reference</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>Additional Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart." class="nav-title is-parent ">Tutorial<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt1.html" title="We build a simple hero editor">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls">5. Services</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt5.html" title="We add the Angular Component Router and learn to navigate among the views">6. Routing</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements." class="nav-title is-parent ">Advanced Documentation<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements.">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/browser-support.html" title="Browser support and polyfills guide.">Browser support</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components.">Component Styles</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree.">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/server-communication.html" title="Talk to a remote server with an HTTP Client.">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them.">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/pipes.html" title="Pipes transform displayed values within a template.">Pipes</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular 2 Component Router.">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/security.html" title="Developing for content security in Angular applications">Security</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements.">Structural Directives</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios" class="nav-title is-parent ">Cookbook<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios">Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/component-communication.html" title="Share information between different directives and components">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service.">Set the Document Title</a></li></ul></div></li></ul><!-- DROPDOWN BUTTON --><nav class="dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for Dart  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/guide/forms.html" md-button>Angular 2 for TypeScript </a></li><li><a href="/docs/js/latest/guide/forms.html" md-button>Angular 2 for JavaScript </a></li><li><a href="/docs/dart/latest/guide/forms.html" md-button>Angular 2 for Dart </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if(link && link.offsetTop > window.innerHeight){
    sideNav.scrollTop = link.offsetTop - (window.innerHeight/2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><!-- template: public/_includes/_hero--><header class="hero background-sky"><h1 class="hero-title ">Forms</h1><!--CLEAR FLOAT ELEMENTS--><div class="clear"></div></header><div class="banner"><p class="text-body">A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.</p></div><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><p>We’ve all used a form to log in, submit a help request, place an order, book a flight,
schedule a meeting, and perform countless other data entry tasks.
Forms are the mainstay of business applications.</p>
<p>Any seasoned web developer can slap together an HTML form with all the right tags.
It&#39;s more challenging to create a cohesive data entry experience that guides the
user efficiently and effectively through the workflow behind the form.</p>
<p><em>That</em> takes design skills that are, to be frank, well out of scope for this chapter.</p>
<p>It also takes framework support for
<strong>two-way data binding, change tracking, validation, and error handling</strong>
... which we shall cover in this chapter on Angular forms.</p>
<p>We will build a simple form from scratch, one step at a time. Along the way we&#39;ll learn:</p>
<ul>
<li><p>How to build an Angular form with a component and template</p>
</li>
<li><p>The <code>ngModel</code> two-way data binding syntax for reading and writing values to input controls</p>
</li>
<li><p>The <code>ngControl</code> directive to track the change state and validity of form controls</p>
</li>
<li><p>The special CSS classes that <code>ngControl</code> adds to form controls and how to use them to provide strong visual feedback</p>
</li>
<li><p>How to display validation errors to users and enable/disable form controls</p>
</li>
<li><p>How to share information across controls with template reference variables</p>
</li>
</ul>
<p>Run the <live-example></live-example>.</p>
<div class="l-main-section"></div><h2 id="template-driven-forms">Template-driven forms</h2>
<p>Many of us will build forms by writing templates in the Angular
template syntax
<!-- link to ./template-syntax.html -->
with the form-specific directives and techniques described in this chapter.</p>
<div class="l-sub-section"><p>That&#39;s not the only way to create a form but it&#39;s the way we&#39;ll cover in this chapter.</p>
</div><p>We can build almost any form we need with an Angular template—login forms, contact forms, pretty much any business form.
We can lay out the controls creatively, bind them to data, specify validation rules and display validation errors,
conditionally enable or disable specific controls, trigger built-in visual feedback, and much more.</p>
<p>It will be pretty easy because Angular handles many of the repetitive, boilerplate tasks we&#39;d
otherwise wrestle with ourselves.</p>
<p>We&#39;ll discuss and learn to build a template-driven form that looks like this:</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/hero-form-1.png" width="400px" alt="Clean Form"></figure><p>Here at the <em>Hero Employment Agency</em> we use this form to maintain personal information about the
heroes in our stable. Every hero needs a job. It&#39;s our company mission to match the right hero with the right crisis!</p>
<p>Two of the three fields on this form are required. Required fields have a green bar on the left to make them easy to spot.</p>
<p>If we delete the hero name, the form displays a validation error in an attention-grabbing style:</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/hero-form-2.png" width="400px" alt="Invalid, Name Required"></figure><p>Note that the submit button is disabled, and the &quot;required&quot; bar to the left of the input control changed from green to red.</p>
<div class="l-sub-section"><p>We&#39;ll customize the colors and location of the &quot;required&quot; bar with standard CSS.</p>
</div><p>We&#39;ll build this form in small steps:</p>
<ol>
<li>Create the <code>Hero</code> model class.</li>
<li>Create the component that controls the form.</li>
<li>Create a template with the initial form layout.</li>
<li>Add the <strong>ngModel</strong> directive to each form input control.</li>
<li>Add the <strong>ngControl</strong> directive to each form input control.</li>
<li>Add custom CSS to provide visual feedback.</li>
<li>Show and hide validation error messages.</li>
<li>Handle form submission with <strong>ngSubmit</strong>.</li>
<li>Change the form&#39;s display after submission.</li>
</ol>
<h2 id="setup">Setup</h2>
<p>Create a new project folder (<code>angular2_forms</code>) and create 3 files:
<code>pubspec.yaml</code>, <code>web/index.html</code>, and <code>web/main.dart</code>.
(These files should be familiar from the
<a href="../quickstart.html">QuickStart</a>.) Put these contents in the files:</p>
<code-tabs><code-pane language="yaml" name="pubspec.yaml" format="linenums">name: hero_form
description: Form example
version: 0.0.1
environment:
  sdk: &#39;&gt;=1.13.0 &lt;2.0.0&#39;
dependencies:
  angular2: 2.0.0-beta.21
  browser: ^0.10.0
  dart_to_js_script_rewriter: ^1.0.1
transformers:
- angular2:
    platform_directives:
    - &#39;package:angular2/common.dart#COMMON_DIRECTIVES&#39;
    - &#39;package:angular2/common.dart#FORM_DIRECTIVES&#39;
    platform_pipes:
    - &#39;package:angular2/common.dart#COMMON_PIPES&#39;
    entry_points: web/main.dart
- dart_to_js_script_rewriter
</code-pane><code-pane language="html" name="web/index.html" format="linenums">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hero Form&lt;/title&gt;
    &lt;script defer src=&quot;main.dart&quot; type=&quot;application/dart&quot;&gt;&lt;/script&gt;
    &lt;script defer src=&quot;packages/browser/dart.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;hero-form&gt;Loading...&lt;/hero-form&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code-pane><code-pane language="dart" name="web/main.dart" format="linenums">import &#39;package:angular2/platform/browser.dart&#39;;

import &#39;package:hero_form/hero_form_component.dart&#39;;

main() {
  bootstrap(HeroFormComponent);
}
</code-pane></code-tabs><div class="l-sub-section"><p>Note the <code>platform_directives</code> entry in <code>pubspec.yaml</code>.
It imports core directives and, more importantly for this chapter,
<strong>form directives</strong>.</p>
</div><p>So that the code can run,
let&#39;s create a stub for the <code>&lt;hero-form&gt;</code> component.</p>
<p>Create a new directory called <code>lib</code>.
In it, put a file called <code>hero_form_component.dart</code>
with the following code:</p>
<div class="code-example"><header><h4>lib/hero_form_component.dart</h4></header><code-example language="dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

@Component(selector: &#39;hero-form&#39;, template: &#39;Hero form will go here&#39;)
class HeroFormComponent {}
</code-example></div><p>The app should now run, but it won&#39;t do anything interesting.
Let&#39;s add some data.</p>
<h2 id="create-the-hero-model-class">Create the Hero model class</h2>
<p>As users enter form data, we&#39;ll capture their changes and update an instance of a model.
We can&#39;t lay out the form until we know what the model looks like.</p>
<p>A model can be as simple as a &quot;property bag&quot; that holds facts about a thing of application importance.
That describes well our <code>Hero</code> class with its three required fields (<code>id</code>, <code>name</code>, <code>power</code>)
and one optional field (<code>alterEgo</code>).</p>
<p>In the <code>lib</code> directory, add a file called <code>hero.dart</code>
with the following code:</p>
<div class="code-example"><header><h4>lib/hero.dart</h4></header><code-example language="dart" format="linenums">class Hero {
  int number;
  String name;
  String power;
  String alterEgo;

  Hero(this.number, this.name, this.power, [this.alterEgo]);

  String toString() =&gt; &#39;$number: $name ($alterEgo). Super power: $power&#39;;
}
</code-example></div><p>It&#39;s an anemic model with few requirements and no behavior. Perfect for our demo.</p>
<p>The <code>alterEgo</code> is optional, so the constructor lets us omit it: note the
<code>[]</code> in <code>[this.alterEgo]</code>.</p>
<p>We can create a new hero like this:</p>
<div class="code-example"><code-example language="dart" format="">var myHero = new Hero(
    42, &#39;SkyDog&#39;, &#39;Fetch any object at any distance&#39;, &#39;Leslie Rollover&#39;);
print(&#39;My hero is ${myHero.name}.&#39;); // &quot;My hero is SkyDog.&quot;
</code-example></div><div class="l-main-section"></div><h2 id="create-a-form-component">Create a form component</h2>
<p>An Angular form has two parts: an HTML-based template and a code-based component to handle data and user interactions.</p>
<p>We begin with the component because it states, in brief, what the Hero editor can do.</p>
<p>Edit <code>hero_form_component.dart</code>, replacing all of its contents
with the following code:</p>
<div class="code-example"><header><h4>lib/hero_form_component.dart</h4></header><code-example language="dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

import &#39;hero.dart&#39;;

const List&lt;String&gt; _powers = const [
  &#39;Really Smart&#39;,
  &#39;Super Flexible&#39;,
  &#39;Super Hot&#39;,
  &#39;Weather Changer&#39;
];

@Component(
    selector: &#39;hero-form&#39;,
    templateUrl: &#39;hero_form_component.html&#39;)
class HeroFormComponent {
  List&lt;String&gt; get powers =&gt; _powers;
  bool submitted = false;
  Hero model = new Hero(18, &#39;Dr IQ&#39;, _powers[0], &#39;Chuck Overstreet&#39;);
  // TODO: Remove this when we&#39;re done
  String get diagnostic =&gt; &#39;DIAGNOSTIC: $model&#39;;

  onSubmit() {
    submitted = true;
  }
}
</code-example></div><p>There’s nothing special about this component, nothing form-specific,
nothing to distinguish it from any component we&#39;ve written before.</p>
<p>Understanding this component requires only the Angular 2 concepts covered in previous chapters.</p>
<ol>
<li><p>The code imports a standard set of symbols from the Angular library.</p>
</li>
<li><p>The <code>@Component</code> selector value of &quot;hero-form&quot; means we can drop this form in a parent template with a <code>&lt;hero-form&gt;</code> tag.</p>
</li>
<li><p>The <code>templateUrl</code> property points to a separate file for template HTML called <code>hero_form_component.html</code>.</p>
</li>
<li><p>We defined dummy data for <code>model</code> and <code>powers</code>, as befits a demo.
Down the road, we can inject a data service to get and save real data
or perhaps expose these properties as inputs and outputs
<!--TODO: link to (./template-syntax.html#inputs-outputs) --> for binding to a
parent component. None of this concerns us now, and these future changes won&#39;t affect our form.</p>
</li>
<li><p>We threw in a <code>diagnostic</code> property to return a
string describing our model.
It&#39;ll help us see what we&#39;re doing during our development; we&#39;ve left ourselves a cleanup note to discard it later.</p>
</li>
</ol>
<p>Why isn&#39;t the template inline in the component file?</p>
<p>Inline templates can be nice when they are short,
but most form templates aren&#39;t short. Dart files generally aren&#39;t the best place to
write (or read) large stretches of HTML, and few editors are much help with files that have a mix of HTML and code.
It&#39;s also nice to have short files with a clear and obvious purpose.</p>
<p>We made a good choice to put the HTML template elsewhere. Let&#39;s write it.</p>
<!-- NOTE: I deleted the Dart equivalent of "Revise the app.ts"
because we started with example-specific index.html & main.dart
files. -->
<div class="l-main-section"></div><h2 id="create-an-initial-html-form-template">Create an initial HTML form template</h2>
<p>Create a new file under <code>lib</code> called <code>hero_form_component.html</code>,
and put the following template code in it:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html</h4></header><code-example language="html" format="linenums">&lt;div class=&quot;container&quot;&gt;
  &lt;h1&gt;Hero Form&lt;/h1&gt;
  &lt;form&gt;
    &lt;div class=&quot;form-group&quot;&gt;
      &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; required&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-group&quot;&gt;
      &lt;label for=&quot;alterEgo&quot;&gt;Alter Ego&lt;/label&gt;
      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;
    &lt;/div&gt;
    &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Submit&lt;/button&gt;
  &lt;/form&gt;
&lt;/div&gt;
</code-example></div><p>That is plain old HTML 5. We&#39;re presenting two of the <code>Hero</code> fields, <code>name</code> and <code>alterEgo</code>, and
opening them up for user input in input boxes.</p>
<p>The Name <code>&lt;input&gt;</code> control has the HTML5 <code>required</code> attribute;
the Alter Ego <code>&lt;input&gt;</code> control does not because <code>alterEgo</code> is optional.</p>
<p>We&#39;ve got a Submit button at the bottom with some classes on it.</p>
<p><strong>We are not using Angular yet</strong>. There are no bindings. No extra directives. Just layout.</p>
<p>The <code>container</code>,<code>form-group</code>, <code>form-control</code>, and <code>btn</code> classes are <a href="http://getbootstrap.com/">Bootstrap</a> CSS. Purely cosmetic.
We&#39;re using Bootstrap to gussy up our form.
Hey, what&#39;s a form without a little style!</p>
<div class="callout is-important"><header>Angular forms do not require a style library</header><p>Angular makes no use of the <code>container</code>, <code>form-group</code>, <code>form-control</code>, and <code>btn</code> classes or
the styles of any external library. Angular apps can use any CSS library
... or none at all.</p>
</div><p>Let&#39;s add the stylesheet.</p>
<ol>
<li><p>Download the Bootstrap stylesheet from
<a href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css</a>,
and put it in the <code>web</code> directory.</p>
</li>
<li><p>Edit <code>web/index.html</code>, adding a link to <code>bootstrap.min.css</code>:</p>
</li>
</ol>
<div class="code-example"><header><h4>web/index.html (excerpt)</h4></header><code-example language="html" format=""><span class="otl">&lt;link rel=&quot;stylesheet&quot; href=&quot;bootstrap.min.css&quot;&gt;</span>
&lt;script defer src=&quot;main.dart&quot; type=&quot;application/dart&quot;&gt;&lt;/script&gt;
&lt;script defer src=&quot;packages/browser/dart.js&quot;&gt;&lt;/script&gt;
</code-example></div><div class="l-main-section"></div><h2 id="add-powers-with-ngfor-">Add powers with <strong>*ngFor</strong></h2>
<p>Our hero must choose one super power from a fixed list of Agency-approved powers.
We maintain that list internally (in <code>HeroFormComponent</code>).</p>
<p>We&#39;ll add a <code>select</code> to our
form and bind the options to the <code>powers</code> list using <code>ngFor</code>,
a technique used before in <a href="./displaying-data.html">Displaying Data</a>.</p>
<p>Add the following HTML <em>immediately below</em> the Alter Ego group.</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;div class=&quot;form-group&quot;&gt;
  &lt;label for=&quot;power&quot;&gt;Hero Power&lt;/label&gt;
  &lt;select class=&quot;form-control&quot; required&gt;
    &lt;option *ngFor=&quot;let p of powers&quot; [value]=&quot;p&quot;&gt;{{p}}&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;
</code-example></div><p>This code repeats the <code>&lt;option&gt;</code> tag for each power in the list of powers.
The <code>p</code> template input variable is a different power in each iteration;
we display its name using the interpolation syntax with the double curly braces.</p>
<div class="l-main-section"></div><h2 id="two-way-data-binding-with-ngmodel-">Two-way data binding with <strong>*ngModel</strong></h2>
<p>Running the app right now would be disappointing.</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/hero-form-3.png" width="400px" alt="Early form with no binding"></figure><p>We don&#39;t see hero data because we are not binding to the <code>Hero</code> yet.
We know how to do that from earlier chapters.
<a href="./displaying-data.html">Displaying Data</a> taught us property binding.
<a href="./user-input.html">User Input</a> showed us how to listen for DOM events with an
event binding and how to update a component property with the displayed value.</p>
<p>Now we need to display, listen, and extract at the same time.</p>
<p>We could use the techniques we already know, but
instead we&#39;ll introduce something new: the <code>NgModel</code> directive, which
makes binding the form to the model super easy.</p>
<p>Find the <code>&lt;input&gt;</code> tag for Name and update it like this:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
       [(ngModel)]=&quot;model.name&quot; &gt;
TODO: remove this: {{model.name}}
</code-example></div><div class="l-sub-section"><p>We added a diagnostic interpolation after the input tag
so we can see what we&#39;re doing.
We left ourselves a note to throw it way when we&#39;re done.</p>
</div><p>Focus on the binding syntax: <code>[(ngModel)]=&quot;...&quot;</code>.</p>
<p>If we ran the app right now and started typing in the Name input box,
adding and deleting characters, we&#39;d see them appearing and disappearing
from the interpolated text.
At some point it might look like this.</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/ng-model-in-action.png" width="400px" alt="ngModel in action"></figure><p>The diagnostic is evidence that values really are flowing from the input box to the model and
back again. <strong>That&#39;s two-way data binding!</strong></p>
<p>Let&#39;s add similar <code>[(ngModel)]</code> bindings to Alter Ego and Hero Power.
We&#39;ll ditch the input box binding message
and add a new binding at the top to the component&#39;s <code>diagnostic</code> property.
Then we can confirm that two-way data binding works <em>for the entire Hero model</em>.</p>
<p>After revision, the core of the form should have three <code>[(ngModel)]</code> bindings that
look much like this:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">{{diagnostic}}
&lt;div class=&quot;form-group&quot;&gt;
  &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
         [(ngModel)]=&quot;model.name&quot; &gt;
&lt;/div&gt;

&lt;div class=&quot;form-group&quot;&gt;
  &lt;label for=&quot;alterEgo&quot;&gt;Alter Ego&lt;/label&gt;
  &lt;input type=&quot;text&quot; class=&quot;form-control&quot;
         [(ngModel)]=&quot;model.alterEgo&quot;&gt;
&lt;/div&gt;

&lt;div class=&quot;form-group&quot;&gt;
  &lt;label for=&quot;power&quot;&gt;Hero Power&lt;/label&gt;
  &lt;select class=&quot;form-control&quot; required
          [(ngModel)]=&quot;model.power&quot;&gt;
    &lt;option *ngFor=&quot;let p of powers&quot; [value]=&quot;p&quot;&gt;{{p}}&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;
</code-example></div><p>If we ran the app right now and changed every Hero model property, the form might look like this:</p>
<figure class="image-display"><img src="images/ng-model-in-action-2.png" width="500px" alt="ngModel in super action"></figure><p>The diagnostic near the top of the form
confirms that our changes to the values are reflected in the model.</p>
<p><strong>Delete the diagnostic binding.</strong> It has served its purpose.</p>
<div class="l-sub-section"><h3>Inside [(ngModel)]</h3><p><em>This section is an optional deep dive into [(ngModel)]. Not interested? Skip ahead!</em></p>
<p>The punctuation in the binding syntax, <span style="font-family:courier"><b>[()]</b></span>, is a good clue to what&#39;s going on.</p>
<p>A property binding makes data flow from the model to a target property on screen.
We identify that target property by surrounding its name in brackets, <span style="font-family:courier"><b>[]</b></span>.
This is a one-way data binding <strong>from the model to the view</strong>.</p>
<p>An event binding makes data flow from the target property onscreen to the model.
We identify that target property by surrounding its name in parentheses, <span style="font-family:courier"><b>()</b></span>.
This is a one-way data binding in the opposite direction <strong>from the view to the model</strong>.</p>
<p>No wonder Angular uses the combined punctuation, <span style="font-family:courier"><b>[()]</b></span>,
to signify a two-way data binding and a <strong>flow of data in both directions</strong>.</p>
<p>In fact, we can break the <code>NgModel</code> binding into its two separate modes
as in this rewrite of the Name <code>&lt;input&gt;</code> binding:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
       [ngModel]=&quot;model.name&quot;
       (ngModelChange)=&quot;model.name = $event&quot; &gt;
TODO: remove this: {{model.name}}
</code-example></div><p><br>The property binding should feel familiar. The event binding might seem strange.</p>
<p>The name <code>ngModelChange</code> specifies an event property of the <code>NgModel</code> directive.
When Angular sees a binding target in the form <span style="font-family:courier">[(x)]</span>,
it expects the <code>x</code> directive to have an <code>x</code> input property and an <code>xChange</code> output property.</p>
<p>The other oddity is the template expression, <code>model.name = $event</code>.
We&#39;re used to seeing an <code>$event</code> object coming from a DOM event.
The <code>ngModelChange</code> property doesn&#39;t produce a DOM event; it&#39;s an Angular <code>EventEmitter</code>
property that returns the input box value when it fires—which is precisely what
we should assign to the model&#39;s <code>name</code> property.</p>
<p>Nice to know but is it practical? <code>[(ngModel)]</code> is usually what we want, but
we might split the binding when the event handling has to do something special
such as debounce or throttle the keystrokes.</p>
<!-- TODO: Add the following once template-syntax.html exists.
Learn more about `NgModel` and other template syntax in the
[Template Syntax](./template-syntax.html) chapter.
-->
</div><div class="l-main-section"></div><h2 id="track-change-state-and-validity-with-ngcontrol-">Track change-state and validity with <strong>ngControl</strong></h2>
<p>A form isn&#39;t just about data binding. We&#39;d also like to know the state of the controls on our form.
The <code>NgControl</code> directive keeps track of control state for us.</p>
<div class="callout is-helpful"><header>NgControl requires Form</header><p>The <code>NgControl</code> is one of a family of <code>NgForm</code> directives that can only be applied to
a control within a <code>&lt;form</code>&gt; tag.</p>
</div><p>Our application can ask an <code>NgControl</code> instance whether
the user touched the control, the value changed, or the value is valid.</p>
<p><code>NgControl</code> doesn&#39;t just track state; it updates the control with special
Angular CSS classes, such as <code>ng-valid</code> or <code>ng-invalid</code>.
We can use those class names to change the appearance of the
control and make messages appear or disappear.</p>
<p>We&#39;ll explore those effects soon. Right now
let&#39;s <strong>add <code>ngControl</code>to all three form controls</strong>,
starting with the Name input box.</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
       [(ngModel)]=&quot;model.name&quot;
       ngControl=&quot;name&quot; &gt;
</code-example></div><p>Be sure to assign a unique name to each <code>ngControl</code> directive.</p>
<div class="l-sub-section"><p>Angular registers controls under their <code>ngControl</code> names
with the <code>NgForm</code> directive.
We didn&#39;t add the <code>NgForm</code> directive explicitly but it&#39;s here;
we&#39;ll talk about it <a href="#ng-form">later in this chapter</a>.</p>
</div><div class="l-main-section"><h2>Add custom CSS for visual feedback</h2><p><code>NgControl</code> doesn't just track state. It updates the control to
have three classes that describe the control's state.
</p><table><tr><th>State</th><th>Class if true</th><th>Class if false</th></tr><tr><td>Control has been visited</td><td><code>ng-touched</code></td><td><code>ng-untouched</code></td></tr><tr><td>Control's value has changed</td><td><code>ng-dirty</code></td><td><code>ng-pristine</code></td></tr><tr><td>Control's value is valid</td><td><code>ng-valid</code></td><td><code>ng-invalid</code></td></tr></table></div><p>Let&#39;s add a temporary <a href="./template-syntax.html#ref-vars">template reference variable</a> named <strong>spy</strong>
to the &quot;Name&quot; <code>&lt;input&gt;</code> tag and use the spy to display those classes.</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
       [(ngModel)]=&quot;model.name&quot;
       ngControl=&quot;name&quot; #spy &gt;
TODO: remove this: {{spy.className}}
</code-example></div><p>Now run the app, and look at the Name input box.
Follow the next four steps <em>precisely</em>:</p>
<ol>
<li>Look but don&#39;t touch.</li>
<li>Click inside the name box, then click outside it.</li>
<li>Add slashes to the end of the name.</li>
<li>Erase the name.</li>
</ol>
<p>The classes are displayed as follows:</p>
<ol>
<li><code>form-control ng-untouched ng-valid ng-pristine</code> (initial state)</li>
<li><code>form-control ng-valid ng-pristine ng-touched</code> (after clicking)</li>
<li><code>form-control ng-valid ng-touched ng-dirty</code> (after changing)</li>
<li><code>form-control ng-touched ng-dirty ng-invalid</code> (after erasing)</li>
</ol>
<figure class="image-display"><img src="/resources/images/devguide/forms/control-state-transitions-anim.gif" alt="Control State Transition"></figure><p>The (<code>ng-valid</code> | <code>ng-invalid</code>) pair are the most interesting to us, because we want to send a
strong visual signal when the values are bad. We also want to mark required fields.</p>
<p>We can do both at the same time with a colored bar on the left of the input box:</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/validity-required-indicator.png" width="400px" alt="Invalid Form"></figure><p>We achieve this effect by adding two styles to a new <code>forms.css</code> file
(under <code>web/</code>).</p>
<div class="code-example"><header><h4>web/forms.css</h4></header><code-example language="css" format="linenums">.ng-valid[required] {
  border-left: 5px solid #42A948; /* green */
}

.ng-invalid {
  border-left: 5px solid #a94442; /* red */
}
</code-example></div><p>These styles select for the two Angular validity classes and the HTML 5 &quot;required&quot; attribute.</p>
<p>To add the styles to the app,
update the <code>&lt;head&gt;</code> of <code>index.html</code> to link to <code>forms.css</code>.</p>
<div class="code-example"><header><h4>web/index.html (excerpt)</h4></header><code-example language="html" format="">    &lt;link rel=&quot;stylesheet&quot; href=&quot;bootstrap.min.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;
<span class="otl">    &lt;link rel=&quot;stylesheet&quot; href=&quot;forms.css&quot;&gt;</span>
</code-example></div><h2 id="show-and-hide-validation-error-messages">Show and hide validation error messages</h2>
<p>We can do better.</p>
<p>The Name input box is required. Clearing it turns the bar red. That says <em>something</em> is wrong but we
don&#39;t know <em>what</em> is wrong or what to do about it.
We can leverage the <code>ng-invalid</code> class to reveal a helpful message.</p>
<p>Here&#39;s the way it should look when the user deletes the name:</p>
<figure class="image-display"><img src="/resources/images/devguide/forms/name-required-error.png" width="400px" alt="Name required"></figure><p>To achieve this effect we extend the <code>&lt;input&gt;</code> tag with</p>
<ol>
<li>a <a href="./template-syntax.html#ref-vars">template reference variable</a></li>
<li>the &quot;<em>is required</em>&quot; message in a nearby <code>&lt;div&gt;</code> which we&#39;ll display only if the control is invalid.</li>
</ol>
<p>Here&#39;s an example of adding an error message to the &quot;name&quot; input box:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
       [(ngModel)]=&quot;model.name&quot;
       ngControl=&quot;name&quot; #name=&quot;ngForm&quot; &gt;
<span class="otl">&lt;div [hidden]=&quot;name.valid&quot; class=&quot;alert alert-danger&quot;&gt;</span>
  <span class="otl">Name is required</span>
<span class="otl">&lt;/div&gt;</span>
</code-example></div><p>We need a template reference variable to access the input box&#39;s Angular control from within the template.
Here we created a variable called <code>name</code> and gave it the value &quot;ngForm&quot;.</p>
<p>Angular recognizes that syntax and sets the <code>name</code> variable
to the <code>Control</code> object identified by the <code>ngControl</code> directive that,
not coincidentally, we called &quot;name&quot;.</p>
<p>We bind the <code>Control</code> object&#39;s <code>valid</code> property to the element&#39;s <code>hidden</code> property.
While the control is valid, the message is hidden;
if it becomes invalid, the message is revealed.</p>
<a id="ng-form"></a><div class="l-sub-section"><h3>The NgForm directive</h3><p>Recall from the previous section that <code>ngControl</code> registered this input box with the
<code>NgForm</code> directive as &quot;name&quot;.</p>
<p>We didn&#39;t add the <a href="../api/angular2.common/NgForm-class.html">NgForm</a> directive
explicitly. Angular added it surreptitiously, wrapping it around the <code>&lt;form&gt;</code> element.</p>
<p>The <code>NgForm</code> directive  supplements the <code>&lt;form&gt;</code> element with additional features.
It collects controls (elements identified by an <code>ngControl</code> directive)
and monitors their properties including their validity.
It has its own <code>valid</code> property, which is true only if every contained
control is valid.</p>
<p>In this example, we are pulling the &quot;name&quot; control out of its <code>controls</code> collection
and assigning it to a template reference variable so that we can
access the control&#39;s properties—such as the control&#39;s own <code>valid</code> property.</p>
</div><p>The Alter Ego is optional so we can leave that be.</p>
<p>Hero Power selection is required.
We can add the same kind of error handling to the <code>&lt;select&gt;</code> if we  want,
but it&#39;s not imperative because the selection box already constrains the
power to valid values.</p>
<div class="l-main-section"></div><h2 id="submit-the-form-with-ngsubmit-">Submit the form with <strong>ngSubmit</strong></h2>
<p>The user should be able to submit this form after filling it in.
The Submit button at the bottom of the form
does nothing on its own, but it will
trigger a form submit because of its type (<code>type=&quot;submit&quot;</code>).</p>
<p>A &quot;form submit&quot; is meaningless at the moment. To make it meaningful,
we&#39;ll update the <code>&lt;form&gt;</code> tag with another Angular directive, <code>NgSubmit</code>,
and bind it to the <code>HeroFormComponent.onSubmit()</code> method:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;form (ngSubmit)=&quot;onSubmit()&quot; #heroForm=&quot;ngForm&quot;&gt;
</code-example></div><p>We slipped in something extra there at the end!  We defined a
template reference variable, <strong><code>#heroForm</code></strong>, and initialized it with the value &quot;ngForm&quot;.</p>
<p>The variable <code>heroForm</code> is now a handle to the <code>NgForm</code> as we <a href="#ng-form">discussed earlier</a>
with respect to <code>ngControl</code>, although this time we have a reference to the form
rather than a control.</p>
<p>We&#39;ll bind the form&#39;s overall validity via
the <code>heroForm</code> variable to the button&#39;s <code>disabled</code> property
using an event binding. Here&#39;s the code:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;
        [disabled]=&quot;!heroForm.form.valid&quot;&gt;Submit&lt;/button&gt;
</code-example></div><p>If we run the application now, we find that the button is enabled.
It doesn&#39;t do anything useful yet but it&#39;s alive.</p>
<p>Now if we delete the Name, we violate the &quot;required&quot; rule, which
is duly noted in the error message.
The Submit button is also disabled.</p>
<p>Not impressed?  Think about it for a moment. What would we have to do to
wire the button&#39;s enable/disabled state to the form&#39;s validity without Angular&#39;s help?</p>
<p>For us, it was as simple as:</p>
<ol>
<li>Define a template reference variable on the (enhanced) form element.</li>
<li>Refer to that variable in a button many lines away.</li>
</ol>
<div class="l-main-section"></div><h2 id="toggle-two-form-regions-extra-credit-">Toggle two form regions (extra credit)</h2>
<p>Submitting the form isn&#39;t terribly dramatic at the moment.</p>
<div class="l-sub-section"><p>An unsurprising observation for a demo. To be honest,
jazzing it up won&#39;t teach us anything new about forms.
But this is an opportunity to exercise some of our newly won
binding skills.
If you aren&#39;t interested, go ahead and skip to this chapter&#39;s conclusion.</p>
</div><p>Let&#39;s do something more strikingly visual.
Let&#39;s hide the data entry area and display something else.</p>
<p>Start by wrapping the form in a <code>&lt;div&gt;</code> and binding
its <code>hidden</code> property to the <code>HeroFormComponent.submitted</code> property.</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">  &lt;div [hidden]=&quot;submitted&quot;&gt;
    &lt;h1&gt;Hero Form&lt;/h1&gt;
    &lt;form (ngSubmit)=&quot;onSubmit()&quot; #heroForm=&quot;ngForm&quot;&gt;
&lt;!-- ... --&gt;
    &lt;/form&gt;
  &lt;/div&gt;
</code-example></div><p>The main form is visible from the start because the
<code>submitted</code> property is false until we submit the form,
as the following code from <code>hero_form_component.dart</code> shows:</p>
<div class="code-example"><code-example language="dart" format="">bool submitted = false;
onSubmit() {
  submitted = true;
}
</code-example></div><p>When we click the Submit button, the <code>submitted</code> flag becomes true and the form disappears
as planned.</p>
<p>Now the app needs to show something else while the form is in the submitted state.
Add the following block of HTML below the <code>&lt;div&gt;</code> wrapper we just wrote:</p>
<div class="code-example"><header><h4>lib/hero_form_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;div [hidden]=&quot;!submitted&quot;&gt;
  &lt;h2&gt;You submitted the following:&lt;/h2&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-xs-3&quot;&gt;Name&lt;/div&gt;
    &lt;div class=&quot;col-xs-9  pull-left&quot;&gt;{{ model.name }}&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-xs-3&quot;&gt;Alter Ego&lt;/div&gt;
    &lt;div class=&quot;col-xs-9 pull-left&quot;&gt;{{ model.alterEgo }}&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col-xs-3&quot;&gt;Power&lt;/div&gt;
    &lt;div class=&quot;col-xs-9 pull-left&quot;&gt;{{ model.power }}&lt;/div&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;button class=&quot;btn btn-default&quot; (click)=&quot;submitted=false&quot;&gt;Edit&lt;/button&gt;
&lt;/div&gt;
</code-example></div><p>There&#39;s our hero again, displayed read-only with interpolation bindings.
This slug of HTML appears only while the component is in the submitted state.</p>
<p>The HTML includes an Edit button whose click event is bound to an expression
that clears the <code>submitted</code> flag.</p>
<p>When we click the Edit button, this block disappears and the editable form reappears.</p>
<p>That&#39;s as much drama as we can muster for now.</p>
<div class="l-main-section"></div><h2 id="conclusion">Conclusion</h2>
<p>The Angular 2 form discussed in this chapter takes advantage of the following framework features to provide support for data modification, validation, and more:</p>
<ul>
<li>An Angular HTML form template.</li>
<li>A form component class with a <code>Component</code> decorator.</li>
<li>The <code>ngSubmit</code> directive for handling the form submission.</li>
<li>Template reference variables such as <code>#heroForm</code>, <code>#name</code>, <code>#p</code>, and <code>#spy</code>.</li>
<li>The <code>ngModel</code> directive for two-way data binding.</li>
<li>The <code>ngControl</code> directive for validation and form element change tracking.</li>
<li>The reference variable’s <code>valid</code> property on input controls to check if a control is valid and show/hide error messages.</li>
<li>Property binding to disable the submit button when the form is invalid.</li>
<li>Custom CSS classes that provide visual feedback to users about required invalid controls.</li>
</ul>
<p>Here’s the code for the final version of the application:</p>
<code-tabs><code-pane language="dart" name="lib/hero_form_component.dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

import &#39;hero.dart&#39;;

const List&lt;String&gt; _powers = const [
  &#39;Really Smart&#39;,
  &#39;Super Flexible&#39;,
  &#39;Super Hot&#39;,
  &#39;Weather Changer&#39;
];

@Component(
    selector: &#39;hero-form&#39;,
    templateUrl: &#39;hero_form_component.html&#39;)
class HeroFormComponent {
  List&lt;String&gt; get powers =&gt; _powers;
  bool submitted = false;
  Hero model = new Hero(18, &#39;Dr IQ&#39;, _powers[0], &#39;Chuck Overstreet&#39;);

  onSubmit() {
    submitted = true;
  }
}
</code-pane><code-pane language="html" name="lib/hero_form_component.html" format="linenums">&lt;div class=&quot;container&quot;&gt;
  &lt;div [hidden]=&quot;submitted&quot;&gt;
    &lt;h1&gt;Hero Form&lt;/h1&gt;
    &lt;form (ngSubmit)=&quot;onSubmit()&quot; #heroForm=&quot;ngForm&quot;&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; required
               [(ngModel)]=&quot;model.name&quot;
               ngControl=&quot;name&quot; #name=&quot;ngForm&quot; &gt;
        &lt;div [hidden]=&quot;name.valid&quot; class=&quot;alert alert-danger&quot;&gt;
          Name is required
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;alterEgo&quot;&gt;Alter Ego&lt;/label&gt;
        &lt;input type=&quot;text&quot; class=&quot;form-control&quot;
               [(ngModel)]=&quot;model.alterEgo&quot;
               ngControl=&quot;alterEgo&quot; &gt;
      &lt;/div&gt;

      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;power&quot;&gt;Hero Power&lt;/label&gt;
        &lt;select class=&quot;form-control&quot; required
                [(ngModel)]=&quot;model.power&quot;
                ngControl=&quot;power&quot; &gt;
          &lt;option *ngFor=&quot;let p of powers&quot; [value]=&quot;p&quot;&gt;{{p}}&lt;/option&gt;
        &lt;/select&gt;
      &lt;/div&gt;

      &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;
              [disabled]=&quot;!heroForm.form.valid&quot;&gt;Submit&lt;/button&gt;
    &lt;/form&gt;
  &lt;/div&gt;

  &lt;div [hidden]=&quot;!submitted&quot;&gt;
    &lt;h2&gt;You submitted the following:&lt;/h2&gt;
    &lt;div class=&quot;row&quot;&gt;
      &lt;div class=&quot;col-xs-3&quot;&gt;Name&lt;/div&gt;
      &lt;div class=&quot;col-xs-9  pull-left&quot;&gt;{{ model.name }}&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;row&quot;&gt;
      &lt;div class=&quot;col-xs-3&quot;&gt;Alter Ego&lt;/div&gt;
      &lt;div class=&quot;col-xs-9 pull-left&quot;&gt;{{ model.alterEgo }}&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;row&quot;&gt;
      &lt;div class=&quot;col-xs-3&quot;&gt;Power&lt;/div&gt;
      &lt;div class=&quot;col-xs-9 pull-left&quot;&gt;{{ model.power }}&lt;/div&gt;
    &lt;/div&gt;
    &lt;br&gt;
    &lt;button class=&quot;btn btn-default&quot; (click)=&quot;submitted=false&quot;&gt;Edit&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code-pane><code-pane language="dart" name="lib/hero.dart" format="linenums">class Hero {
  int number;
  String name;
  String power;
  String alterEgo;

  Hero(this.number, this.name, this.power, [this.alterEgo]);

  String toString() =&gt; &#39;$number: $name ($alterEgo). Super power: $power&#39;;
}
</code-pane><code-pane language="yaml" name="pubspec.yaml" format="linenums">name: hero_form
description: Form example
version: 0.0.1
environment:
  sdk: &#39;&gt;=1.13.0 &lt;2.0.0&#39;
dependencies:
  angular2: 2.0.0-beta.21
  browser: ^0.10.0
  dart_to_js_script_rewriter: ^1.0.1
transformers:
- angular2:
    platform_directives:
    - &#39;package:angular2/common.dart#COMMON_DIRECTIVES&#39;
    - &#39;package:angular2/common.dart#FORM_DIRECTIVES&#39;
    platform_pipes:
    - &#39;package:angular2/common.dart#COMMON_PIPES&#39;
    entry_points: web/main.dart
- dart_to_js_script_rewriter
</code-pane><code-pane language="html" name="web/index.html" format="linenums">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hero Form&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;bootstrap.min.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;forms.css&quot;&gt;    
    &lt;script defer src=&quot;main.dart&quot; type=&quot;application/dart&quot;&gt;&lt;/script&gt;
    &lt;script defer src=&quot;packages/browser/dart.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;hero-form&gt;Loading...&lt;/hero-form&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code-pane><code-pane language="dart" name="web/main.dart" format="linenums">import &#39;package:angular2/platform/browser.dart&#39;;

import &#39;package:hero_form/hero_form_component.dart&#39;;

main() {
  bootstrap(HeroFormComponent);
}
</code-pane><code-pane language="css" name="web/forms.css" format="linenums">.ng-valid[required] {
  border-left: 5px solid #42A948; /* green */
}

.ng-invalid {
  border-left: 5px solid #a94442; /* red */
}
</code-pane></code-tabs><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><div class="l-sub-section"><h3>Next Step</h3><a href="/docs/dart/latest/guide/dependency-injection.html">Dependency Injection</a></div><!--NEXT PAGE HAS NOW BEEN SET--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--></article><div class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular 2 libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/resources/">Books & Training</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">Community</a></li><li><a href="/presskit.html">Press Kit</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><ul class="text-body"><li><a href="https://angular.cn/">中文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2016. Code licensed under an <a href="/license" class="text-snow">MIT-style License</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small><a aria-label="View Style Guide" href="/docs/dart/latest/styleguide.html" title="Style Guide" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script><!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')

</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK');
</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script><!-- Twitter Widget --><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script></body></html>