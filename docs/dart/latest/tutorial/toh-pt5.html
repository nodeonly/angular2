<!DOCTYPE html><html lang="en" ng-app="angularIOApp" itemscope itemtype="http://schema.org/Framework"><!-- template: public/docs/_layout--><head><title>Routing - dart</title><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta name="keywords" content="Angular, AngularJS, AngularDart, Javscript, Dart, Framework, JavaScript MVC, Google"/><meta name="robots" content="all"/><meta name="referrer" content="origin"/><meta name="viewport" id="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Angular 2"/><meta property="og:image" content="/resources/images/logos/standard/shield-large.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="184"/><meta property="og:image:height" content="200"/><meta property="og:description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="name" content="Angular 2"/><meta itemprop="description" content="Angular is a development platform for building mobile and desktop web applications"/><meta itemprop="image" content="https://angular.io/resources/images/logos/standard/shield-large.png"/><link rel="icon" type="image/x-icon" href="/resources/images/icons/favicon.ico"/><link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css"/><link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,700" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link rel="stylesheet" href="/resources/css/vendor/icomoon/style.css"/><link rel="stylesheet" href="/resources/css/vendor/animate.css"/><link rel="stylesheet" href="/resources/css/main.css"/><!-- MOBILE ICONS -->
<link rel="apple-touch-icon" sizes="57x57" href="/resources/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/resources/images/favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/resources/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/resources/images/favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/resources/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/resources/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/resources/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/resources/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/images/favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/resources/images/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/resources/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/resources/images/favicons/manifest.json"></head><body ng-controller="AppCtrl as appCtrl" class="l-offset-nav l-offset-side-nav"><nav scroll-y-offset-element="scroll-y-offset-element" class="main-nav l-pinned-top l-layer-5"><h1><a href="/" md-button>Angular <sup>by Google</sup></a></h1><button aria-label="View Menu" ng-click="appCtrl.toggleMainMenu($event)" md-button="md-button" class="main-nav-button main-nav-mobile-trigger l-right">Site Menu <span class="icon icon-arrow-drop-down"></span></button><ul ng-class="appCtrl.showMainNav ? 'is-visible' : ''"><li class="l-left"><a class="main-nav-button" href="/features.html" md-button>Features</a></li><li class="l-left"><a class="main-nav-button" href="/docs/ts/latest/" md-button>Docs</a></li><li class="l-left"><a class="main-nav-button" href="/events.html" md-button>Events</a></li><li class="l-left"><a class="main-nav-button" href="/news.html" md-button>News</a></li><li class="l-right"><a class="main-nav-button" href="/docs/ts/latest/quickstart.html" md-button>Get Started</a></li></ul></nav><!-- Include this file ONLY when current.path[2] is defined--><nav ng-class="appCtrl.showDocsNav ? 'is-visible' : ''" class="sidenav l-pinned-left l-layer-4 l-offset-nav"><!-- SEARCH BAR--><header class="sidenav-search st-input-wrapper"><form class="st-input-inner"><label for="search-io" class="is-hidden">Search Docs</label><input type="search" id="search-io" placeholder="SEARCH DOCS..."/></form><button aria-label="View Docs Menu" ng-click="appCtrl.toggleDocsMenu($event)" md-button="md-button" class="mobile-trigger button">Docs <span class="icon icon-arrow-drop-down"></span></button></header><ul class="sidenav-links"><li class="sidenav-section no-border"><a href="/docs/dart/latest/" class="nav-title">Docs Home</a></li><!-- CORE DOCUMENTATION--><li class="sidenav-section-divider"><h3>Core Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/quickstart.html" title="Get up and running with Angular 2" class="nav-title ">Quickstart</a></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/" title="How to read and use this documentation" class="nav-title is-parent ">Guide<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/" title="How to read and use this documentation">1. Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/architecture.html" title="The basic building blocks of Angular 2 applications">2. Architecture</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/displaying-data.html" title="Interpolation and other forms of property binding help us show app data in the UI.">3. Displaying Data</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/user-input.html" title="User input triggers DOM events. We listen to those events with event bindings that funnel updated values back into our components and models.">4. User Input</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/forms.html" title="A form creates a cohesive, effective, and compelling data entry experience. An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors.">5. Forms</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services &quot;just-in-time&quot;.">6. Dependency Injection</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/template-syntax.html" title="Learn how to write templates that display data and consume user events with the help of data binding.">7. Template Syntax</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/cheatsheet.html" title="A quick guide to Angular syntax. (Content is provisional and may change.)">8. Angular Cheat Sheet</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/style-guide.html" title="Write Angular 2 with style.">9. Style Guide</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/glossary.html" title="Brief definitions of the most important words in the Angular 2 vocabulary">10. Glossary</a></li></ul></div></li><li class="sidenav-section no-border"><a href="/docs/dart/latest/api/" title="API Preview" class="nav-title ">API Reference</a></li><!-- ADVANCED DOCUMENATION--><li class="sidenav-section-divider"><h3>Additional Documentation</h3></li><li class="sidenav-section"><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart." class="nav-title is-parent is-selected">Tutorial<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-ordered-lists"><ul><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/" title="The Tour of Heroes tutorial takes us through the steps of creating an Angular application in Dart.">1. Introduction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt1.html" title="We build a simple hero editor">2. The Hero Editor</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt2.html" title="We build a master/detail page with a list of heroes">3. Master/Detail</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt3.html" title="We refactor the master/detail view into separate components">4. Multiple Components</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt4.html" title="We create a reusable service to manage our hero data calls">5. Services</a></li><li class="nav-list-item is-selected"><a href="/docs/dart/latest/tutorial/toh-pt5.html" title="We add the Angular Component Router and learn to navigate among the views">6. Routing</a></li><li class="nav-list-item "><a href="/docs/dart/latest/tutorial/toh-pt6.html" title="We convert our service and components to use Angular's HTTP service">7. HTTP</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements." class="nav-title is-parent ">Advanced Documentation<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/guide/attribute-directives.html" title="Attribute directives attach behavior to elements.">Attribute Directives</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/browser-support.html" title="Browser support and polyfills guide.">Browser support</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/component-styles.html" title="Learn how to apply CSS styles to components.">Component Styles</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/hierarchical-dependency-injection.html" title="Angular's hierarchical dependency injection system supports nested injectors in parallel with the component tree.">Hierarchical Injectors</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/server-communication.html" title="Talk to a remote server with an HTTP Client.">HTTP Client</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them.">Lifecycle Hooks</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/pipes.html" title="Pipes transform displayed values within a template.">Pipes</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/router.html" title="Discover the basics of screen navigation with the Angular 2 Component Router.">Routing &amp; Navigation</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/security.html" title="Developing for content security in Angular applications">Security</a></li><li class="nav-list-item "><a href="/docs/dart/latest/guide/structural-directives.html" title="Angular has a powerful template engine that lets us easily manipulate the DOM structure of our elements.">Structural Directives</a></li></ul></div></li><li class="sidenav-section"><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios" class="nav-title is-parent ">Cookbook<img src="/resources/images/icons/ic_keyboard_arrow_down_black_24px.svg" class="inline-arrow-down-svg"/></a><div class="nav-unordered-lists is-hidden"><ul><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/" title="A collection of recipes for common Angular application scenarios">Overview</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/component-communication.html" title="Share information between different directives and components">Component Interaction</a></li><li class="nav-list-item "><a href="/docs/dart/latest/cookbook/set-document-title.html" title="Setting the document or window title using the Title service.">Set the Document Title</a></li></ul></div></li></ul><!-- DROPDOWN BUTTON --><nav class="dropdown"><button aria-label="Select a version of Angular" md-button="md-button" ng-click="appCtrl.toggleVersionMenu($event)" class="dropdown-button">Angular 2 for Dart  <span class="icon icon-arrow-drop-down"></span></button><div ng-click="appCtrl.toggleVersionMenu($event)" ng-show="appCtrl.showMenu" class="overlay ng-hide"></div><!-- DROPDOWN MENU --><ul ng-class="appCtrl.showMenu ? 'is-visible' : ''" class="dropdown-menu"><li><a href="/docs/ts/latest/tutorial/toh-pt5.html" md-button>Angular 2 for TypeScript </a></li><li><a href="/docs/js/latest/tutorial/toh-pt5.html" md-button>Angular 2 for JavaScript </a></li><li><a href="/docs/dart/latest/tutorial/toh-pt5.html" md-button>Angular 2 for Dart </a></li></ul></nav></nav><script>// Could put in appCtrl but only needed here and clear here
(function scrollToSelectedLink() {
  var sideNav = document.getElementsByClassName('sidenav')[0];
  var link = sideNav.getElementsByClassName('is-selected')[0];
  if(link && link.offsetTop > window.innerHeight){
    sideNav.scrollTop = link.offsetTop - (window.innerHeight/2);
    //alert("offsetTop: " + link.offsetTop + " side-nav top is " + sideNav.scrollTop);
  }
})()</script><!-- template: public/_includes/_hero--><header class="hero background-sky"><h1 class="hero-title ">Routing</h1><!--CLEAR FLOAT ELEMENTS--><div class="clear"></div></header><div class="banner"><p class="text-body">We add the Angular Component Router and learn to navigate among the views</p></div><article class="l-content-small grid-fluid docs-content"><script>function why(id, backTo) {
  var id = "#"+id;
  var el = document.querySelector(id);
  el.hidden=el.hidden=!el.hidden;

  if (el.hidden && backTo){
    // the next line is required to work around a bug in WebKit (Chrome / Safari)
    location.href = "#";
    location.href =  "#" + backTo;
  }
}</script><script>function verbose(isVerbose) {
  isVerbose = !! isVerbose;
  var el = document.querySelector('button.verbose.off');
  el.style.display = isVerbose ? 'block' : 'none';
  var el = document.querySelector('button.verbose.on');
  el.style.display = isVerbose ? 'none' : 'block';

  CCSStylesheetRuleStyle('main','.l-verbose-section', 'display',
    isVerbose ? 'block' : 'none');
}
</script><script>function CCSStylesheetRuleStyle(stylesheet, selectorText, style, value){
  /* returns the value of the element style of the rule in the stylesheet
  *  If no value is given, reads the value
  *  If value is given, the value is changed and returned
  *  If '' (empty string) is given, erases the value.
  *  The browser will apply the default one
  *
  * string stylesheet: part of the .css name to be recognized, e.g. 'default'
  * string selectorText: css selector, e.g. '#myId', '.myClass', 'thead td'
  * string style: camelCase element style, e.g. 'fontSize'
  * string value optional : the new value
  */
  var CCSstyle = undefined, rules, sheet;
  for(var m in document.styleSheets){
    sheet = document.styleSheets[m];
    if(sheet.href && sheet.href.indexOf(stylesheet) != -1){
    rules = sheet[document.all ? 'rules' : 'cssRules'];
    for(var n in rules){
      console.log(rules[n].selectorText);
      if(rules[n].selectorText == selectorText){
        CCSstyle = rules[n].style;
        break;
      }
    }
    break;
    }
  }
  if(value == undefined)
    return CCSstyle[style]
  else
    return CCSstyle[style] = value
}
</script><h1 id="routing-around-the-app">Routing Around the App</h1>
<p>We received new requirements for our Tour of Heroes application:</p>
<ul>
<li>Add a <em>Dashboard</em> view.</li>
<li>Navigate between the <em>Heroes</em> and <em>Dashboard</em> views.</li>
<li>Clicking on a hero in either view navigates to a detail view of the selected hero.</li>
<li>Clicking a <em>deep link</em> in an email opens the detail view for a particular hero.</li>
</ul>
<p>When we’re done, users will be able to navigate the app like this:</p>
<figure class="image-display"><img src="/resources/images/devguide/toh/nav-diagram.png" alt="View navigations"></figure><p>We&#39;ll add Angular’s <em>Component Router</em> to our app to satisfy these requirements.</p>
<div class="l-sub-section"><p>The <a href="../guide/router.html">Routing and Navigation</a> chapter covers the router
in more detail than we will in this tutorial.</p>
</div><p>Run the <live-example></live-example> for this part.</p>
<div class="l-main-section"></div><h2 id="where-we-left-off">Where We Left Off</h2>
<p>Before we continue with our Tour of Heroes, let’s verify that
we have the following structure after adding our hero service
and hero detail component. If not, we’ll need to go back and follow the previous chapters.</p>
<div class="filetree"><div class="file">angular2_tour_of_heroes</div><div class="children"><div class="file">lib</div><div class="children"><div class="file">app_component.dart</div><div class="file">hero.dart</div><div class="file">hero_detail_component.dart</div><div class="file">hero_service.dart</div><div class="file">mock_heroes.dart</div></div><div class="file">web</div><div class="children"><div class="file">index.html</div><div class="file">main.dart</div><div class="file">styles.css</div></div><div class="file">pubspec.yaml</div></div></div><h3 id="keep-the-app-compiling-and-running">Keep the app compiling and running</h3>
<p>Open a terminal/console window.
Start the Dart compiler, watch for changes, and start our server by entering the command:</p>
<code-example language="bash">pub serve
</code-example><p>The application runs and updates automatically as we continue to build the Tour of Heroes.</p>
<h2 id="action-plan">Action plan</h2>
<p>Here&#39;s our plan:</p>
<ul>
<li>Turn <code>AppComponent</code> into an application shell that only handles navigation</li>
<li>Relocate the <em>Heroes</em> concerns within the current <code>AppComponent</code> to a separate <code>HeroesComponent</code></li>
<li>Add routing</li>
<li>Create a new <code>DashboardComponent</code></li>
<li>Tie the <em>Dashboard</em> into the navigation structure</li>
</ul>
<div class="l-sub-section"><p><em>Routing</em> is another name for <em>navigation</em>. The <em>router</em> is the mechanism for navigating from view to view.</p>
</div><div class="l-main-section"></div><h2 id="splitting-the-appcomponent-">Splitting the <em>AppComponent</em></h2>
<p>Our current app loads <code>AppComponent</code> and immediately displays the list of heroes.</p>
<p>Our revised app should present a shell with a choice of views (<em>Dashboard</em> and <em>Heroes</em>)
and then default to one of them.</p>
<p>The <code>AppComponent</code> should only handle navigation.
Let&#39;s move the display of <em>Heroes</em> out of <code>AppComponent</code> and into its own <code>HeroesComponent</code>.</p>
<h3 id="-heroescomponent-"><em>HeroesComponent</em></h3>
<p><code>AppComponent</code> is already dedicated to <em>Heroes</em>.
Instead of moving anything out of <code>AppComponent</code>, we&#39;ll just rename it <code>HeroesComponent</code>
and create a new <code>AppComponent</code> shell separately.</p>
<p>The steps are to rename:</p>
<ul>
<li><span ngio-ex>app.component.ts</span> file to <span ngio-ex>heroes.component.ts</span></li>
<li><code>AppComponent</code> class to <code>HeroesComponent</code></li>
<li>Selector <code>my-app</code> to <code>my-heroes</code></li>
</ul>
<div class="code-example"><header><h4>lib/heroes_component.dart (showing renamings only)</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;my-heroes&#39;,
)
class HeroesComponent implements OnInit {
  HeroesComponent(this._heroService, this._router);
}
</code-example></div><h2 id="create-appcomponent-">Create <em>AppComponent</em></h2>
<p>The new <code>AppComponent</code> will be the application shell.
It will have some navigation links at the top and a display area below for the pages we navigate to.</p>
<p>The initial steps are:</p>
<ul>
<li>Create the file <span ngio-ex>app/app.component.ts</span>.</li>
<li>Define an <span if-docs="ts">exported</span> <code>AppComponent</code> class.</li>
<li>Add an <code>@Component</code> annotation above the class with a <code>my-app</code> selector.</li>
<li>Move the following from <code>HeroesComponent</code> to <code>AppComponent</code>:<ul>
<li><code>title</code> class property</li>
<li><code>@Component</code> template <code>&lt;h1&gt;</code> element, which contains a binding to  <code>title</code></li>
</ul>
</li>
<li>Add a <code>&lt;my-heroes&gt;</code> element to the app template just below the heading so we still see the heroes.</li>
<li>Add <code>HeroesComponent</code> to the <code>directives</code> list of <code>AppComponent</code> so Angular recognizes the <code>&lt;my-heroes&gt;</code> tags.</li>
<li>Add <code>HeroService</code> to the  <code>providers</code> list of <code>AppComponent</code> because we&#39;ll need it in every other view.</li>
<li>Remove <code>HeroService</code> from the <code>HeroesComponent</code> <code>providers</code> list since it has been promoted.</li>
<li>Add the supporting <code>import</code> statements for <code>AppComponent</code>.</li>
</ul>
<p>Our first draft looks like this:</p>
<div class="code-example"><header><h4>lib/app_component.dart (v1)</h4></header><code-example language="dart" format="">import &#39;package:angular2/core.dart&#39;;

import &#39;hero_service.dart&#39;;
import &#39;heroes_component.dart&#39;;

@Component(
    selector: &#39;my-app&#39;,
    template: &#39;&#39;&#39;
      &lt;h1&gt;{{title}}&lt;/h1&gt;
      &lt;my-heroes&gt;&lt;/my-heroes&gt;&#39;&#39;&#39;,
    directives: const [HeroesComponent],
    providers: const [HeroService])
class AppComponent {
  String title = &#39;Tour of Heroes&#39;;
}
</code-example></div><p>The app still runs and still displays heroes.
Our refactoring of <code>AppComponent</code> into a new <code>AppComponent</code> and a <code>HeroesComponent</code> worked!
We have done no harm.</p>
<h2 id="add-routing">Add Routing</h2>
<p>We&#39;re ready to take the next step.
Instead of displaying heroes automatically, we&#39;d like to show them <em>after</em> the user clicks a button.
In other words, we&#39;d like to navigate to the list of heroes.</p>
<p>We&#39;ll need the Angular <em>Component Router</em>.</p>
<p>The Angular router is a combination of multiple services
(<code>ROUTER_PROVIDERS</code>), multiple directives (<code>ROUTER_DIRECTIVES</code>), and a
configuration annotation (<code>RouteConfig</code>). We&#39;ll get them all by importing
the router library:</p>
<div class="code-example"><header><h4>lib/app_component.dart (router imports)</h4></header><code-example language="dart" format="">import &#39;package:angular2/router.dart&#39;;
</code-example></div><h3 id="make-the-router-available">Make the router available</h3>
<p>Not all apps need routing, which is why the Angular <em>Component Router</em> is
in a separate, optional library module.</p>
<p>Like for any service, we make router services available to the application
by adding them to the <code>providers</code> list.  Let&#39;s update the <code>directives</code> and
<code>providers</code> lists to include the router assets:</p>
<div class="code-example"><header><h4>lib/app_component.dart (excerpt)</h4></header><code-example language="dart" format="">directives: const [ROUTER_DIRECTIVES],
providers: const [HeroService, ROUTER_PROVIDERS])
</code-example></div><p>Notice that we also removed the <code>HeroesComponent</code> from the <code>directives</code> list.
<code>AppComponent</code> no longer shows heroes; that will be the router&#39;s job.
We&#39;ll soon remove <code>&lt;my-heroes&gt;</code> from the template too.</p>
<h3 id="add-the-base-tag">Add the base tag</h3>
<p>Open <code>index.html</code> and add <code>&lt;base href=&quot;/&quot;&gt;</code> at the top of the <code>&lt;head&gt;</code> section.</p>
<div class="code-example"><header><h4>web/index.html (base-href)</h4></header><code-example language="html" format="">&lt;head&gt;
  &lt;!-- For testing using pub serve directly use: --&gt;
  &lt;base href=&quot;/&quot;&gt;
  &lt;!-- For testing in WebStorm use: --&gt;
  &lt;!-- base href=&quot;/dart/web/&quot; --&gt;
</code-example></div><div class="callout is-important"><header>base href is essential</header><p>See the <em>base href</em> section of the <a href="../guide/router.html#!#base-href">Router</a>
chapter to learn why this matters.</p>
</div><a id="configure-routes"></a><h3 id="configure-routes-and-add-the-router">Configure routes and add the router</h3>
<p>The <code>AppComponent</code> doesn&#39;t have a router yet. We&#39;ll use the <code>@RouteConfig</code>
annotation to simultaneously:</p>
<ul>
<li>Assign a router to the component</li>
<li>Configure that router with <em>routes</em></li>
</ul>
<p><em>Routes</em> tell the router which views to display when a user clicks a link or
pastes a URL into the browser address bar.</p>
<p>Let&#39;s define our first route as a route to the heroes component:</p>
<div class="code-example"><header><h4>lib/app_component.dart (heroes route)</h4></header><code-example language="dart" format="">@RouteConfig(const [
  const Route(path: &#39;/heroes&#39;, name: &#39;Heroes&#39;, component: HeroesComponent)
])
</code-example></div><p>The <code>@RouteConfig</code> takes a list of <em>route definitions</em>.
We have only one route definition at the moment but rest assured, we&#39;ll add more.</p>
<p>This <em>route definition</em> has the following parts:</p>
<ul>
<li><strong>path</strong>: the router matches this route&#39;s path to the URL in the browser address bar (<code>/heroes</code>).</li><li if-docs="dart"> <strong>name</strong>: the official name of the route;
it <em>must</em> begin with a capital letter to avoid confusion with the <em>path</em> (<code>Heroes</code>).</li>
<li><strong>component</strong>: the component that the router should create when navigating to this route (<code>HeroesComponent</code>).</li>
</ul>
<div class="l-sub-section"><p>Learn more about defining routes with <code>@RouteConfig</code> in the <a href="../guide/router.html">Routing</a> chapter.</p>
</div><h3 id="router-outlet">Router Outlet</h3>
<p>If we paste the path, <code>/heroes</code>, into the browser address bar,
the router should match it to the <code>'Heroes'</code> route and display the <code>HeroesComponent</code>.
But where?</p>
<p>We have to <strong><em>tell it where</em></strong> by adding a <code>&lt;router-outlet&gt;</code> element to the bottom of the template.
<code>RouterOutlet</code> is one of the <span if-docs="ts">directives provided by</span> the <code>ROUTER_DIRECTIVES</code>.
The router displays each component immediately below the <code>&lt;router-outlet&gt;</code> as we navigate through the application.</p>
<h3 id="router-links">Router Links</h3>
<p>We don&#39;t really expect users to paste a route URL into the address bar.
We add an anchor tag to the template which, when clicked, triggers navigation to the <code>HeroesComponent</code>.</p>
<p>The revised template looks like this:</p>
<div class="code-example"><header><h4>lib/app_component.dart (template-v2)</h4></header><code-example language="dart" format="">template: &#39;&#39;&#39;
  &lt;h1&gt;{{title}}&lt;/h1&gt;
  &lt;a [routerLink]=&quot;[&#39;Heroes&#39;]&quot;&gt;Heroes&lt;/a&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;&#39;&#39;&#39;,
</code-example></div><p>Notice the <code>[routerLink]</code> binding in the anchor tag.
We bind the <code>RouterLink</code> directive (another of the <code>ROUTER_DIRECTIVES</code>) to a list
that tells the router where to navigate when the user clicks the link.</p>
<p>We define a <em>routing instruction</em> with a <em>link parameters list</em>.
The list only has one element in our little sample, the quoted <strong><em>name</em> of the route</strong> to follow.
Looking back at the route configuration, we confirm that <code>&#39;Heroes&#39;</code> is the name of the route to the <code>HeroesComponent</code>.</p>
<div class="l-sub-section"><p>Learn about the <em>link parameters list</em>
in the <a href="../guide/router.html#link-parameters-array">Routing</a> chapter.</p>
</div><p>Refresh the browser.  We see only the app title and heroes link. We don&#39;t see the heroes list.</p>
<div class="l-sub-section"><p>The browser&#39;s address bar shows <code>/</code>.
The route path to <code>HeroesComponent</code> is <code>/heroes</code>, not <code>/</code>.
We don&#39;t have a route that matches the path <code>/</code>, so there is nothing to show.
That&#39;s something we&#39;ll want to fix.</p>
</div><p>We click the <em>Heroes</em> navigation link, the browser bar updates to <code>/heroes</code>,
and now we see the list of heroes. We are navigating at last!</p>
<p>At this stage, our <code>AppComponent</code> looks like this.</p>
<div class="code-example"><header><h4>lib/app_component.dart (v2)</h4></header><code-example language="dart" format="linenums">import &#39;package:angular2/core.dart&#39;;
import &#39;package:angular2/router.dart&#39;;

import &#39;hero_service.dart&#39;;
import &#39;heroes_component.dart&#39;;

@Component(
    selector: &#39;my-app&#39;,
    template: &#39;&#39;&#39;
      &lt;h1&gt;{{title}}&lt;/h1&gt;
      &lt;a [routerLink]=&quot;[&#39;Heroes&#39;]&quot;&gt;Heroes&lt;/a&gt;
      &lt;router-outlet&gt;&lt;/router-outlet&gt;&#39;&#39;&#39;,
    directives: const [ROUTER_DIRECTIVES],
    providers: const [HeroService, ROUTER_PROVIDERS])
@RouteConfig(const [
  const Route(path: &#39;/heroes&#39;, name: &#39;Heroes&#39;, component: HeroesComponent)
])
class AppComponent {
  String title = &#39;Tour of Heroes&#39;;
}
</code-example></div><p>The  <em>AppComponent</em> is now attached to a router and displaying routed views.
For this reason and to distinguish it from other kinds of components,
we call this type of component a <em>Router Component</em>.</p>
<h2 id="add-a-dashboard-">Add a <em>Dashboard</em></h2>
<p>Routing only makes sense when we have multiple views. We need another view.</p>
<p>Create a placeholder <code>DashboardComponent</code> that gives us something to navigate to and from.</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (v1)</h4></header><code-example language="dart" format="">import &#39;package:angular2/core.dart&#39;;

@Component(
    selector: &#39;my-dashboard&#39;,
    template: &#39;&lt;h3&gt;My Dashboard&lt;/h3&gt;&#39;
)
class DashboardComponent {}
</code-example></div><p>We’ll come back and make it more useful later.</p>
<h3 id="configure-the-dashboard-route">Configure the dashboard route</h3>
<p>Go back to <code>AppComponent</code> and teach it to navigate to the dashboard.</p>
<p>Import the dashboard component and
add the following route definition to the <code>@RouteConfig</code> list of definitions.</p>
<div class="code-example"><header><h4>lib/app_component.dart (Dashboard route)</h4></header><code-example language="dart" format="">const Route(
    path: &#39;/dashboard&#39;,
    name: &#39;Dashboard&#39;,
    component: DashboardComponent,
    useAsDefault: true),
</code-example></div><h4 id="-_redirectto-">useAsDefault</h4>
<p>We want the app to show the dashboard when it starts and
we want to see a nice URL in the browser address bar that says <code>/dashboard</code>.
Remember that the browser launches with <code>/</code> in the address bar.</p>
<p>We don&#39;t need a route definition for that. Instead,
we add <code>useAsDefault: true</code> to the dashboard <em>route definition</em> and the
router will display the dashboard when the browser URL doesn&#39;t match an existing route.</p>
<h4 id="add-navigation-to-the-template">Add navigation to the template</h4>
<p>Finally, add a dashboard navigation link to the template, just above the <em>Heroes</em> link.</p>
<div class="code-example"><header><h4>lib/app_component.dart (template-v3)</h4></header><code-example language="dart" format="">template: &#39;&#39;&#39;
  &lt;h1&gt;{{title}}&lt;/h1&gt;
  &lt;nav&gt;
    &lt;a [routerLink]=&quot;[&#39;Dashboard&#39;]&quot;&gt;Dashboard&lt;/a&gt;
    &lt;a [routerLink]=&quot;[&#39;Heroes&#39;]&quot;&gt;Heroes&lt;/a&gt;
  &lt;/nav&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;&#39;&#39;&#39;,
</code-example></div><div class="l-sub-section"><p>We nestled the two links within <code>&lt;nav&gt;</code> tags.
They don&#39;t do anything yet but they&#39;ll be convenient when we style the links a little later in the chapter.</p>
</div><p>To see these changes in your browser, go to the application root (<code>/</code>) and reload.
The app displays the dashboard and we can navigate between the dashboard and the heroes.</p>
<h2 id="dashboard-top-heroes">Dashboard Top Heroes</h2>
<p>Let’s spice up the dashboard by displaying the top four heroes at a glance.</p>
<p>Replace the <code>template</code> metadata with a <code>templateUrl</code> property that points to a new
template file.</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (templateUrl)</h4></header><code-example language="dart" format="">templateUrl: &#39;dashboard_component.html&#39;,
</code-example></div><div class="l-sub-section"><p>The value of <code>templateUrl</code> can be an <a href="https://www.dartlang.org/tools/pub/glossary#asset">asset</a> in this package or another
package. To use an asset in another package, use a full package reference,
such as <code>&#39;package:some_other_package/dashboard_component.html&#39;</code>.</p>
</div><p>Create that file with this content:</p>
<div class="code-example"><header><h4>lib/dashboard_component.html (excerpt)</h4></header><code-example language="html" format="">&lt;h3&gt;Top Heroes&lt;/h3&gt;
&lt;div class=&quot;grid grid-pad&quot;&gt;
  &lt;div *ngFor=&quot;let hero of heroes&quot; (click)=&quot;gotoDetail(hero)&quot; class=&quot;col-1-4&quot; &gt;
    &lt;div class=&quot;module hero&quot;&gt;
      &lt;h4&gt;{{hero.name}}&lt;/h4&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code-example></div><p>We use <code>*ngFor</code> once again to iterate over a list of heroes and display their names.
We added extra <code>&lt;div&gt;</code> elements to help with styling later in this chapter.</p>
<p>There&#39;s a <code>(click)</code> binding to a <code>gotoDetail</code> method we haven&#39;t written yet and
we&#39;re displaying a list of heroes that we don&#39;t have.
We have work to do, starting with those heroes.</p>
<h3 id="share-the-heroservice-">Share the <em>HeroService</em></h3>
<p>We&#39;d like to re-use the <code>HeroService</code> to populate the component&#39;s <code>heroes</code> list.</p>
<p>Recall earlier in the chapter that we removed the <code>HeroService</code> from the <code>providers</code> list of <code>HeroesComponent</code>
and added it to the <code>providers</code> list of <code>AppComponent</code>.</p>
<p>That move created a singleton <code>HeroService</code> instance, available to <em>all</em> components of the application.
Angular will inject <code>HeroService</code> and we&#39;ll use it here in the <code>DashboardComponent</code>.</p>
<h3 id="get-heroes">Get heroes</h3>
<p>Open <span ngio-ex>dashboard.component.ts</span> and add the requisite <code>import</code> statements.</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (imports)</h4></header><code-example language="dart" format="">import &#39;dart:async&#39;;

import &#39;package:angular2/core.dart&#39;;

import &#39;hero.dart&#39;;
import &#39;hero_service.dart&#39;;
</code-example></div><p>Now implement the <code>DashboardComponent</code> class like this:</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (class)</h4></header><code-example language="dart" format="">@Component(
  selector: &#39;my-dashboard&#39;,
  templateUrl: &#39;dashboard_component.html&#39;)
class DashboardComponent implements OnInit {
  List&lt;Hero&gt; heroes;
  final HeroService _heroService;

  DashboardComponent(this._heroService);

  Future&lt;Null&gt; ngOnInit() async {
    heroes = (await _heroService.getHeroes()).skip(1).take(4).toList();
  }

  gotoDetail(Hero hero) {/* not implemented yet */}
}
</code-example></div><p>We&#39;ve seen this kind of logic before in the <code>HeroesComponent</code>:</p>
<ul>
<li>Define a <code>heroes</code> list property.</li>
<li>Inject the <code>HeroService</code> in the constructor and hold it in a private <code>_heroService</code> field.</li>
<li>Call the service to get heroes inside the Angular <code>ngOnInit</code> lifecycle hook.</li>
</ul>
<p>The noteworthy differences: we cherry-pick four heroes (2nd, 3rd, 4th, and 5th)
and stub the <code>gotoDetail</code> method until we&#39;re ready to implement it.</p>
<p>Refresh the browser and see four heroes in the new dashboard.</p>
<div class="l-main-section"></div><h2 id="navigate-to-hero-details">Navigate to Hero Details</h2>
<p>Although we display the details of a selected hero at the bottom of the <code>HeroesComponent</code>,
we don&#39;t yet <em>navigate</em> to the <code>HeroDetailComponent</code> in the three ways specified in our requirements:</p>
<ol>
<li>from the <em>Dashboard</em> to a selected hero.</li>
<li>from the <em>Heroes</em> list to a selected hero.</li>
<li>from a &quot;deep link&quot; URL pasted into the browser address bar.</li>
</ol>
<p>Adding a hero-detail route seems like an obvious place to start.</p>
<h3 id="routing-to-a-hero-detail">Routing to a hero detail</h3>
<p>We&#39;ll add a route to the <code>HeroDetailComponent</code> in <code>AppComponent</code> where our other routes are configured.</p>
<p>The new route is a bit unusual in that we must tell the <code>HeroDetailComponent</code> <em>which hero to show</em>.
We didn&#39;t have to tell the <code>HeroesComponent</code> or the <code>DashboardComponent</code> anything.</p>
<p>At the moment the parent <code>HeroesComponent</code> sets the component&#39;s <code>hero</code> property to a
hero object with a binding like this.</p>
<code-example language="html">&lt;my-hero-detail [hero]="selectedHero">&lt;/my-hero-detail>
</code-example><p>That clearly won&#39;t work in any of our routing scenarios.
Certainly not the last one; we can&#39;t embed an entire hero object in the URL! Nor would we want to.</p>
<h3 id="parameterized-route">Parameterized route</h3>
<p>We <em>can</em> add the hero&#39;s <code>id</code> to the URL. When routing to the hero whose <code>id</code> is 11,
we could expect to see an URL such as this:</p>
<code-example format="">/detail/11
</code-example><p>The <code>/detail/</code> part of that URL is constant. The trailing numeric <code>id</code> part changes from hero to hero.
We need to represent that variable part of the route with a <em>parameter</em> (or <em>token</em>) that stands for the hero&#39;s <code>id</code>.</p>
<h3 id="configure-a-route-with-a-parameter">Configure a Route with a Parameter</h3>
<p>Here&#39;s the <em>route definition</em> we&#39;ll use.</p>
<div class="code-example"><header><h4>lib/app_component.dart (hero detail)</h4></header><code-example language="dart" format="">const Route(
    path: &#39;/detail/:id&#39;, name: &#39;HeroDetail&#39;, component: HeroDetailComponent),
</code-example></div><p>The colon (:) in the path indicates that <code>:id</code> is a placeholder to be filled with a specific hero <code>id</code>
when navigating to the <code>HeroDetailComponent</code>.</p>
<div class="l-sub-section"><p>Remember to import the hero detail component before creating this route.</p>
</div><p>We&#39;re finished with the application routes.</p>
<p>We won&#39;t add a <code>&#39;Hero Detail&#39;</code> link to the template because users
don&#39;t click a navigation <em>link</em> to view a particular hero.
They click a <em>hero</em> whether that hero is displayed on the dashboard or in the heroes list.</p>
<p>We&#39;ll get to those <em>hero</em> clicks later in the chapter.
There&#39;s no point in working on them until the <code>HeroDetailComponent</code>
is ready to be navigated <em>to</em>.</p>
<p>That will require an <code>HeroDetailComponent</code> overhaul.</p>
<div class="l-main-section"></div><h2 id="revise-the-herodetailcomponent-">Revise the <em>HeroDetailComponent</em></h2>
<p>Before we rewrite the <code>HeroDetailComponent</code>, let&#39;s review what it looks like now:</p>
<div class="code-example"><header><h4>lib/hero_detail_component.dart (current)</h4></header><code-example language="dart" format="linenums">import &#39;package:angular2/core.dart&#39;;

import &#39;hero.dart&#39;;

@Component(
    selector: &#39;my-hero-detail&#39;,
    template: &#39;&#39;&#39;
      &lt;div *ngIf=&quot;hero != null&quot;&gt;
        &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;
        &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;
        &lt;div&gt;
          &lt;label&gt;name: &lt;/label&gt;
          &lt;input [(ngModel)]=&quot;hero.name&quot; placeholder=&quot;name&quot;/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &#39;&#39;&#39;)
class HeroDetailComponent {
  @Input()
  Hero hero;
}
</code-example></div><p>The template won&#39;t change. We&#39;ll display a hero the same way.
The big changes are driven by how we get the hero.</p>
<p>We will no longer receive the hero in a parent component property binding.
The new <code>HeroDetailComponent</code> should take the <code>id</code> parameter from the router&#39;s
<code>RouteParams</code> service and use the <code>HeroService</code> to fetch the hero with that <code>id</code>.</p>
<p>First, add the requisite imports:</p>
<div class="code-example"><code-example language="dart" format="">import &#39;dart:async&#39;;
import &#39;dart:html&#39; show window;

import &#39;package:angular2/router.dart&#39;;

import &#39;hero_service.dart&#39;;
</code-example></div><p>Let&#39;s have the <code>RouteParams</code> service and the <code>HeroService</code> injected
into the constructor, saving their values in private fields:</p>
<div class="code-example"><header><h4>lib/hero_detail_component.dart (constructor)</h4></header><code-example language="dart" format="">final HeroService _heroService;
final RouteParams _routeParams;

HeroDetailComponent(this._heroService, this._routeParams);
</code-example></div><p>We tell the class that we want to implement the <code>OnInit</code> interface.</p>
<div class="code-example"><code-example language="dart" format="">class HeroDetailComponent implements OnInit {
</code-example></div><p>Inside the <code>ngOnInit</code> lifecycle hook, extract the <code>id</code> parameter value from the <code>RouteParams</code> service
and use the <code>HeroService</code> to fetch the hero with that <code>id</code>.</p>
<div class="code-example"><header><h4>lib/hero_detail_component.dart (ngOnInit)</h4></header><code-example language="dart" format="">Future&lt;Null&gt; ngOnInit() async {
  var idString = _routeParams.get(&#39;id&#39;);
  var id = int.parse(idString ?? &#39;&#39;, onError: (_) =&gt; null);
  if (id != null) hero = await (_heroService.getHero(id));
}
</code-example></div><p>Notice how we extract the <code>id</code> by calling the <code>RouteParams.get</code> method.</p>
<p>The hero <code>id</code> is a number. Route parameters are <em>always strings</em>.
So we convert the route parameter value to a number with the <code>int.parse</code> static method.</p>
<h3 id="add-heroservice-gethero-">Add <em>HeroService.getHero</em></h3>
<p>The problem with this bit of code is that <code>HeroService</code> doesn&#39;t have a <code>getHero</code> method!
We better fix that quickly before someone notices that we broke the app.</p>
<p>Open <code>HeroService</code> and add a <code>getHero</code> method that filters the heroes list from <code>getHeroes</code> by <code>id</code>:</p>
<div class="code-example"><header><h4>lib/hero_service.dart (getHero)</h4></header><code-example language="dart" format="">Future&lt;Hero&gt; getHero(int id) async =&gt;
    (await getHeroes()).firstWhere((hero) =&gt; hero.id == id);
</code-example></div><p>Let&#39;s return to the <code>HeroDetailComponent</code> to clean up loose ends.</p>
<h3 id="find-our-way-back">Find our way back</h3>
<p>We can navigate <em>to</em> the <code>HeroDetailComponent</code> in several ways.
How do we navigate somewhere else when we&#39;re done?</p>
<p>The user could click one of the two links in the <code>AppComponent</code>. Or click the browser&#39;s back button.
We&#39;ll add a third option, a <code>goBack</code> method that navigates backward one step in the browser&#39;s history stack.</p>
<div class="code-example"><header><h4>lib/hero_detail_component.dart (goBack)</h4></header><code-example language="dart" format="">void goBack() {
  window.history.back();
}
</code-example></div><div class="l-sub-section"><p>Going back too far could take us out of the application.
That&#39;s acceptable in a demo. We&#39;d guard against it in a real application,
perhaps with the <a href="../api/angular2.router/CanDeactivate-class.html"><em>routerCanDeactivate</em> hook</a>.</p>
</div><p>Then we wire this method with an event binding to a <em>Back</em> button that we
add to the bottom of the component template.</p>
<div class="code-example"><code-example language="html" format="">&lt;button (click)=&quot;goBack()&quot;&gt;Back&lt;/button&gt;
</code-example></div><p>Modifing the template to add this button spurs us to take one more
incremental improvement and migrate the template to its own file,
called <span ngio-ex>hero-detail.component.html</span>:</p>
<div class="code-example"><header><h4>lib/hero_detail_component.html</h4></header><code-example language="html" format="linenums">&lt;div *ngIf=&quot;hero != null&quot;&gt;
  &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;
  &lt;div&gt;
    &lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;
  &lt;div&gt;
    &lt;label&gt;name: &lt;/label&gt;
    &lt;input [(ngModel)]=&quot;hero.name&quot; placeholder=&quot;name&quot; /&gt;
  &lt;/div&gt;
  &lt;button (click)=&quot;goBack()&quot;&gt;Back&lt;/button&gt;
&lt;/div&gt;
</code-example></div><p>We update the component metadata with a <code>templateUrl</code> pointing to the template file that we just created.</p>
<div class="code-example"><header><h4>lib/hero_detail_component.dart (templateUrl)</h4></header><code-example language="dart" format="">templateUrl: &#39;hero_detail_component.html&#39;,
</code-example></div><p>Refresh the browser and see the results.</p>
<div class="l-main-section"></div><h2 id="select-a-dashboard-hero">Select a <em>Dashboard</em> Hero</h2>
<p>When a user selects a hero in the dashboard, the app should navigate to the <code>HeroDetailComponent</code> to view and edit the selected hero.</p>
<p>In the dashboard template we bound each hero&#39;s click event to the <code>gotoDetail</code> method, passing along the selected <code>hero</code> entity.</p>
<div class="code-example"><header><h4>lib/dashboard_component.html (click)</h4></header><code-example language="html" format="">&lt;div *ngFor=&quot;let hero of heroes&quot; (click)=&quot;gotoDetail(hero)&quot; class=&quot;col-1-4&quot; &gt;
</code-example></div><p>We stubbed the <code>gotoDetail</code> method when we rewrote the <code>DashboardComponent</code>.
Now we give it a real implementation.</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (gotoDetail)</h4></header><code-example language="dart" format="">void gotoDetail(Hero hero) {
  var link = [
    &#39;HeroDetail&#39;,
    {&#39;id&#39;: hero.id.toString()}
  ];
  _router.navigate(link);
}
</code-example></div><p>The <code>gotoDetail</code> method navigates in two steps:</p>
<ol>
<li>Set a route <em>link parameters list</em></li>
<li>Pass the list to the router&#39;s navigate method</li>
</ol>
<p>For navigation, we wrote router links <span if-docs="dart">as <em>link
parameters lists</em></span> in the <a href="#router-links"><code>AppComponent</code>
template</a>.  Those link<span if-docs="dart"> parameters
list</span>s had only one element, the name of the
destination route.</p>
<p>This link parameters list has two elements, the <strong><em>name</em></strong> of
the destination route and a <strong><em>route parameter</em></strong> <span if-docs="dart">with
an <code>id</code> field</span> set to the value of the selected hero&#39;s <code>id</code>.</p>
<p>The two list items align with the <strong><em>name</em></strong> and <strong><em>:id</em></strong>
token in the parameterized hero detail route definition we added to
<code>AppComponent</code> earlier in the chapter:</p>
<div class="code-example"><header><h4>lib/app_component.dart (hero detail)</h4></header><code-example language="dart" format="">const Route(
    path: &#39;/detail/:id&#39;, name: &#39;HeroDetail&#39;, component: HeroDetailComponent),
</code-example></div><p>The <code>DashboardComponent</code> doesn&#39;t have the router yet. We obtain it in the usual way:
import the <code>router</code> reference and inject it in the constructor (along with the <code>HeroService</code>):</p>
<div class="code-example"><code-example language="dart" format="">import &#39;package:angular2/router.dart&#39;;
</code-example></div><div class="code-example"><code-example language="dart" format="">final Router _router;
final HeroService _heroService;

DashboardComponent(this._heroService, this._router);
</code-example></div><p>Refresh the browser and select a hero from the dashboard; the app should navigate directly to that hero’s details.</p>
<div class="l-main-section"></div><h2 id="select-a-hero-in-the-heroescomponent-">Select a Hero in the <em>HeroesComponent</em></h2>
<p>We&#39;ll do something similar in the <code>HeroesComponent</code>.</p>
<p>That component&#39;s current template exhibits a &quot;master/detail&quot; style with the list of heroes
at the top and details of the selected hero below.</p>
<div class="code-example"><header><h4>lib/heroes_component.dart (current template)</h4></header><code-example language="dart" format="">template: &#39;&#39;&#39;
  &lt;h1&gt;{{title}}&lt;/h1&gt;
  &lt;h2&gt;My Heroes&lt;/h2&gt;
  &lt;ul class=&quot;heroes&quot;&gt;
    &lt;li *ngFor=&quot;let hero of heroes&quot;
      [class.selected]=&quot;hero == selectedHero&quot;
      (click)=&quot;onSelect(hero)&quot;&gt;
      &lt;span class=&quot;badge&quot;&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;my-hero-detail [hero]=&quot;selectedHero&quot;&gt;&lt;/my-hero-detail&gt;
&#39;&#39;&#39;,
</code-example></div><p>Delete the last line of the template with the <code>&lt;my-hero-detail&gt;</code> tags.</p>
<p>We&#39;ll no longer show the full <code>HeroDetailComponent</code> here.
We&#39;re going to display the hero detail on its own page and route to it as we did in the dashboard.</p>
<p>But we&#39;ll throw in a small twist for variety.
When the user selects a hero from the list, we <em>won&#39;t</em> go to the detail page.
We&#39;ll show a <em>mini-detail</em> on <em>this</em> page instead and make the user click a button to navigate to the <em>full detail </em>page.</p>
<h3 id="add-the-mini-detail-">Add the <em>mini-detail</em></h3>
<p>Add the following HTML fragment at the bottom of the template where the <code>&lt;my-hero-detail&gt;</code> used to be:</p>
<div class="code-example"><code-example language="html" format="">&lt;div *ngIf=&quot;selectedHero != null&quot;&gt;
  &lt;h2&gt;
    {{selectedHero.name | uppercase}} is my hero
  &lt;/h2&gt;
  &lt;button (click)=&quot;gotoDetail()&quot;&gt;View Details&lt;/button&gt;
&lt;/div&gt;
</code-example></div><p>After clicking a hero, the user should see something like this below the hero list:</p>
<figure class="image-display"><img src="/resources/images/devguide/toh/mini-hero-detail.png" alt="Mini Hero Detail" height="70"></figure><h3 id="format-with-the-uppercase-pipe">Format with the <em>uppercase</em> pipe</h3>
<p>Notice that the hero&#39;s name is displayed in CAPITAL LETTERS. That&#39;s the effect of the <code>uppercase</code> pipe
that we slipped into the interpolation binding. Look for it right after the pipe operator ( | ).</p>
<div class="code-example"><code-example language="html" format="">{{selectedHero.name | uppercase}} is my hero
</code-example></div><p>Pipes are a good way to format strings, currency amounts, dates and other display data.
Angular ships with several pipes and we can write our own.</p>
<div class="l-sub-section"><p>Learn about pipes in the <a href="../guide/pipes.html">Pipes</a> chapter.</p>
</div><h3 id="move-content-out-of-the-component-file">Move content out of the component file</h3>
<p>We are not done. We still have to update the component class to support navigation to the
<code>HeroDetailComponent</code> when the user clicks the <em>View Details</em> button.</p>
<p>This component file is really big. Most of it is either template or CSS styles.
It&#39;s difficult to find the component logic amidst the noise of HTML and CSS.</p>
<p>Let&#39;s migrate the template and the styles to their own files before we make any more changes:</p>
<ol>
<li><em>Cut-and-paste</em> the template contents into a new <span ngio-ex>heroes.component.html</span> file.</li>
<li><em>Cut-and-paste</em> the styles contents into a new <span ngio-ex>heroes.component.css</span> file.</li>
<li><em>Set</em> the component metadata&#39;s <code>templateUrl</code> and <code>styleUrls</code> properties to refer to both files.</li>
</ol>
<div class="l-sub-section"><p>The <code>styleUrls</code> property is a list of style file names (with paths).
We could list multiple style files from different locations if we needed them.
<span if-docs="ts">As with <code>templateUrl</code>, we must specify the path <em>all the way
back to the application root</em>.</span></p>
</div><p>Because the template for <code>HeroesComponent</code> no longer uses <code>HeroDetailComponent</code>
directly &mdash; instead using the router to <em>navigate</em> to it &mdash; we can
drop the <code>directives</code> argument from <code>@Component</code> and remove the unused hero detail
import. The revised <code>@Component</code> looks like this:</p>
<div class="code-example"><header><h4>lib/heroes_component.dart (revised metadata)</h4></header><code-example language="dart" format="">@Component(
    selector: &#39;my-heroes&#39;,
    templateUrl: &#39;heroes_component.html&#39;,
    styleUrls: const [&#39;heroes_component.css&#39;]
)
</code-example></div><p>Now we can see what&#39;s going on as we update the component class along the same lines as the dashboard:</p>
<ol>
<li>Import the <code>router</code></li>
<li>Inject the <code>router</code> in the constructor (along with the <code>HeroService</code>)</li>
<li>Implement the <code>gotoDetail</code> method by calling the <code>router.navigate</code> method</li>
</ol>
<p>with a two-part hero-detail link parameters list.</p>
<p>Here&#39;s the revised component class:</p>
<div class="code-example"><header><h4>lib/heroes_component.dart (class)</h4></header><code-example language="dart" format="">class HeroesComponent implements OnInit {
  final Router _router;
  final HeroService _heroService;
  List&lt;Hero&gt; heroes;
  Hero selectedHero;

  HeroesComponent(this._heroService, this._router);

  Future&lt;Null&gt; getHeroes() async {
    heroes = await _heroService.getHeroes();
  }

  void ngOnInit() {
    getHeroes();
  }

  void onSelect(Hero hero) {
    selectedHero = hero;
  }

  Future&lt;Null&gt; gotoDetail() =&gt; _router.navigate([
        &#39;HeroDetail&#39;,
        {&#39;id&#39;: selectedHero.id.toString()}
      ]);
}
</code-example></div><p>Refresh the browser and start clicking.
We can navigate around the app, from the dashboard to hero details and back,
for heroes list to the mini-detail to the hero details and back to the heroes again.
We can jump back and forth between the dashboard and the heroes.</p>
<p>We&#39;ve met all of the navigational requirements that propelled this chapter.</p>
<div class="l-main-section"></div><h2 id="styling-the-app">Styling the App</h2>
<p>The app is functional but pretty ugly.
Our creative designer team provided some CSS files to make it look better.</p>
<h3 id="a-dashboard-with-style">A Dashboard with Style</h3>
<p>The designers think we should display the dashboard heroes in a row of rectangles.
They&#39;ve given us ~60 lines of CSS for this purpose including some simple media queries for responsive design.</p>
<p>If we paste these ~60 lines into the component <code>styles</code> metadata,
they&#39;ll completely obscure the component logic.
Let&#39;s not do that. It&#39;s easier to edit CSS in a separate <code>*.css</code> file anyway.</p>
<p>Add a <span ngio-ex>dashboard.component.css</span> file to the <code>lib</code> folder and reference
that file in the component metadata&#39;s <code>styleUrls</code> list property like this:</p>
<div class="code-example"><header><h4>lib/dashboard_component.dart (styleUrls)</h4></header><code-example language="dart" format="">styleUrls: const [&#39;dashboard_component.css&#39;]
</code-example></div><h3 id="stylish-hero-details">Stylish Hero Details</h3>
<p>The designers also gave us CSS styles specifically for the <code>HeroDetailComponent</code>.</p>
<p>Add a <span ngio-ex>hero-detail.component.css</span> to the <code>lib</code>
folder and refer to that file inside
the <code>styleUrls</code> list as we did for <code>DashboardComponent</code>.
Let&#39;s also remove the <code>hero</code> property <code>@Input</code> annotation
<span if-docs="ts">and its import</span>
while we are at it.</p>
<p>Here&#39;s the content for the aforementioned component CSS files.</p>
<code-tabs><code-pane language="css" name="lib/hero_detail_component.css" format="linenums">label {
  display: inline-block;
  width: 3em;
  margin: .5em 0;
  color: #607D8B;
  font-weight: bold;
}
input {
  height: 2em;
  font-size: 1em;
  padding-left: .4em;
}
button {
  margin-top: 20px;
  font-family: Arial;
  background-color: #eee;
  border: none;
  padding: 5px 10px;
  border-radius: 4px;
  cursor: pointer; cursor: hand;
}
button:hover {
  background-color: #cfd8dc;
}
button:disabled {
  background-color: #eee;
  color: #ccc; 
  cursor: auto;
}
</code-pane><code-pane language="css" name="lib/dashboard_component.css" format="linenums">[class*=&#39;col-&#39;] {
  float: left;
}
*, *:after, *:before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
h3 {
  text-align: center; margin-bottom: 0;
}
[class*=&#39;col-&#39;] {
  padding-right: 20px;
  padding-bottom: 20px;
}
[class*=&#39;col-&#39;]:last-of-type {
  padding-right: 0;
}
.grid {
  margin: 0;
}
.col-1-4 {
  width: 25%;
}
.module {
    padding: 20px;
    text-align: center;
    color: #eee;
    max-height: 120px;
    min-width: 120px;
    background-color: #607D8B;
    border-radius: 2px;
}
h4 {
  position: relative;
}
.module:hover {
  background-color: #EEE;
  cursor: pointer;
  color: #607d8b;
}
.grid-pad {
  padding: 10px 0;
}
.grid-pad &gt; [class*=&#39;col-&#39;]:last-of-type {
  padding-right: 20px;
}
@media (max-width: 600px) {
    .module {
      font-size: 10px;
      max-height: 75px; }
}
@media (max-width: 1024px) {
    .grid {
      margin: 0;
    }
    .module {
      min-width: 60px;
    }
}
</code-pane></code-tabs><h3 id="style-the-navigation-links">Style the Navigation Links</h3>
<p>The designers gave us CSS to make the navigation links in our <code>AppComponent</code> look more like selectable buttons.
We cooperated by surrounding those links in <code>&lt;nav&gt;</code> tags.</p>
<p>Add a <span ngio-ex>app.component.css</span> file to the <code>lib</code> folder with the following content.</p>
<div class="code-example"><header><h4>lib/app_component.css (navigation styles)</h4></header><code-example language="css" format="">h1 {
  font-size: 1.2em;
  color: #999;
  margin-bottom: 0;
}
h2 {
  font-size: 2em;
  margin-top: 0;
  padding-top: 0;
}
nav a {
  padding: 5px 10px;
  text-decoration: none;
  margin-top: 10px;
  display: inline-block;
  background-color: #eee;
  border-radius: 4px;
}
nav a:visited, a:link {
  color: #607D8B;
}
nav a:hover {
  color: #039be5;
  background-color: #CFD8DC;
}
nav a.router-link-active {
  color: #039be5;
}
</code-example></div><div class="l-sub-section"><p><strong>The <em>router-link-active</em> class</strong></p>
<p>The Angular Router adds the <code>router-link-active</code> class to the HTML navigation element
whose route matches the active route. All we have to do is define the style for it. Sweet!</p>
</div><p>Set the <code>AppComponent</code>’s <code>styleUrls</code> property to this CSS file.</p>
<div class="code-example"><header><h4>lib/app_component.dart (styleUrls)</h4></header><code-example language="dart" format="">styleUrls: const [&#39;app_component.css&#39;],
</code-example></div><h3 id="global-application-styles">Global application styles</h3>
<p>When we add styles to a component, we&#39;re keeping everything a component needs
&mdash; HTML, the CSS, the code &mdash; together in one convenient place.
It&#39;s pretty easy to package it all up and re-use the component somewhere else.</p>
<p>We can also create styles at the <em>application level</em> outside of any component.</p>
<p>Our designers provided some basic styles to apply to elements across the entire app.
These correspond to the full set of master styles that we
introduced earlier (see
<a href="../quickstart.html#!#add-some-style">QuickStart, &quot;Add some style&quot;</a>).
Here is an excerpt:</p>
<div class="code-example"><header><h4>web/styles.css (excerpt)</h4></header><code-example language="css" format="">/* Master Styles */
h1 {
  color: #369;
  font-family: Arial, Helvetica, sans-serif;
  font-size: 250%;
}
h2, h3 {
  color: #444;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: lighter;
}
body {
  margin: 2em;
}
body, input[text], button {
  color: #888;
  font-family: Cambria, Georgia;
}
/* . . . */
/* everywhere else */
* {
  font-family: Arial, Helvetica, sans-serif;
}
</code-example></div><p>Create the file <span ngio-ex>styles.css</span>, if it doesn&#39;t exist already.
Ensure that it contains the <a href="https://raw.githubusercontent.com/angular/angular.io/master/public/docs/_examples/styles.css">master styles given here</a>.</p>
<p>If necessary, also edit <span ngio-ex>index.html</span> to refer to this stylesheet.</p>
<div class="code-example"><header><h4>web/index.html (link ref)</h4></header><code-example language="html" format="">&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;
</code-example></div><p>Look at the app now. Our dashboard, heroes, and navigation links are styling!</p>
<figure class="image-display"><img src="/resources/images/devguide/toh/dashboard-top-heroes.png" alt="View navigations"></figure><div class="l-main-section"></div><h2 id="application-structure-and-code">Application structure and code</h2>
<p>Review the sample source code in the <live-example></live-example> for this chapter.
Verify that we have the following structure:</p>
<div class="filetree"><div class="file">angular2_tour_of_heroes</div><div class="children"><div class="file">lib</div><div class="children"><div class="file">app_component.css</div><div class="file">app_component.dart</div><div class="file">dashboard_component.css</div><div class="file">dashboard_component.dart</div><div class="file">dashboard_component.html</div><div class="file">hero.dart</div><div class="file">hero_detail_component.css</div><div class="file">hero_detail_component.dart</div><div class="file">hero_detail_component.html</div><div class="file">hero_service.dart</div><div class="file">heroes_component.css</div><div class="file">heroes_component.dart</div><div class="file">heroes_component.html</div><div class="file">mock_heroes.dart</div></div><div class="file">web</div><div class="children"><div class="file">index.html</div><div class="file">main.dart</div><div class="file">styles.css</div></div><div class="file">pubspec.yaml</div></div></div><div class="l-main-section"></div><h2 id="recap">Recap</h2>
<h3 id="the-road-behind">The Road Behind</h3>
<p>We travelled a great distance in this chapter</p>
<ul>
<li>We added the Angular <em>Component Router</em> to navigate among different components.</li>
<li>We learned how to create router links to represent navigation menu items.</li>
<li>We used router link parameters to navigate to the details of user selected hero.</li>
<li>We shared the <code>HeroService</code> among multiple components.</li>
<li>We moved HTML and CSS out of the component file and into their own files.</li>
<li>We added the <code>uppercase</code> pipe to format data.</li>
</ul>
<h3 id="the-road-ahead">The Road Ahead</h3>
<p>We have much of the foundation we need to build an application.
We&#39;re still missing a key piece: remote data access.</p>
<p>In the next chapter,
we’ll replace our mock data with data retrieved from a server using http.</p><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--><!-- CHECK IF CURRENT PAGE IS SET, THEN SET NEXT PAGE--><div class="l-sub-section"><h3>Next Step</h3><a href="/docs/dart/latest/tutorial/toh-pt6.html">HTTP</a></div><!--NEXT PAGE HAS NOW BEEN SET--><!-- SET CURRENT PAGE FLAG WHEN YOU PASS IT--></article><div class="main-footer"><nav class="background-midnight grid-fluid"><div class="c3 main-footer-branding"><div class="logo-inverse-large"></div></div><div class="c2"><h3 class="text-headline">RESOURCES</h3><ul class="text-body"><!-- TODO: (ericjim) make a libraries page to showcase all angular 2 libraries--><!--li <a href="/libraries.html">Libraries</a>--><li><a href="/about/">About</a></li><li><a href="/resources/">Books & Training</a></li><li><a href="/resources/">Tools & Libraries</a></li><li><a href="/resources/">Community</a></li><li><a href="/presskit.html">Press Kit</a></li></ul></div><div class="c2"><h3 class="text-headline">HELP</h3><ul class="text-body"><li><a href="http://stackoverflow.com/questions/tagged/angular2">Stack Overflow</a></li><li><a href="https://gitter.im/angular/angular">Gitter</a></li><li><a href="https://groups.google.com/forum/#!forum/angular"> Google Group</a></li><li><a href="https://github.com/angular/angular/issues"> Report Issues</a></li><li><a class="footer-feedback" ng-click="appCtrl.openFeedback()" aria-label="Submit feedback on this page"> Site Feedback</a></li></ul></div><div class="c2"><h3 class="text-headline">COMMUNITY</h3><ul class="text-body"><li><a href="/events.html">Events</a></li><li><a href="http://www.meetup.com/topics/angularjs/">Meetups</a></li><li><a href="https://twitter.com/angularjs"> Twitter</a></li><li><a href="https://github.com/angular/angular"> GitHub</a></li><li><a href="/contribute.html"> Contribute</a></li></ul></div><div class="c2"><h3 class="text-headline">LANGUAGES</h3><ul class="text-body"><li><a href="https://angular.cn/">中文版</a></li></ul></div></nav><footer class="background-midnight"><small class="text-caption">Powered by Google ©2010-2016. Code licensed under an <a href="/license" class="text-snow">MIT-style License</a>. Documentation licensed under <a class="text-snow" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</small><a aria-label="View Style Guide" href="/docs/dart/latest/styleguide.html" title="Style Guide" class="styleguide-trigger text-snow"><span class="icon-favorite"></span></a></footer></div><!-- VENDORS --><script src="/resources/js/vendor/prettify.js"></script><script src="/resources/js/vendor/lang-basic.js"></script><script src="/resources/js/vendor/lang-dart.js"></script><script src="/resources/js/vendor/lodash.js"></script><script src="/resources/js/vendor/clipboard.min.js"></script><!-- Angular Material Dependencies --><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script><script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script><!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
<!-- Angular.io Site JS --><script src="/resources/js/site.js"></script><script src="/resources/js/util.js"></script><script src="/resources/js/controllers/app-controller.js"></script><script src="/resources/js/controllers/resources-controller.js"></script><script src="/resources/js/directives/cheatsheet.js"></script><script src="/resources/js/directives/api-list.js"></script><script src="/resources/js/directives/bio.js"></script><script src="/resources/js/directives/bold.js"></script><script src="/resources/js/directives/announcement-bar.js"></script><script src="/resources/js/directives/code.js"></script><script src="/resources/js/directives/copy.js"></script><script src="/resources/js/directives/code-tabs.js"></script><script src="/resources/js/directives/code-pane.js"></script><script src="/resources/js/directives/code-example.js"></script><script src="/resources/js/directives/if-docs.js"></script><script src="/resources/js/directives/live-example.js"></script><script src="/resources/js/directives/ngio-ex-path.js"></script><script src="/resources/js/directives/scroll-y-offset-element.js"></script><!-- GA --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-8594346-15', 'auto');
ga('send', 'pageview')

</script><!-- SWIFTYPE --><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

_st('install','VsuU7kH5Hnnj9tfyNvfK');
</script><!-- Google Feedback --><script src="//www.gstatic.com/feedback/api.js" type="text/javascript"></script><!-- Twitter Widget --><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script></body></html>